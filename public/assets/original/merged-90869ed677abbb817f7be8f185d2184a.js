/*!
 * Masonry PACKAGED v4.2.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(b,a){if(typeof define=="function"&&define.amd){define("jquery-bridget/jquery-bridget",["jquery"],function(c){return a(b,c)})}else{if(typeof module=="object"&&module.exports){module.exports=a(b,require("jquery"))}else{b.jQueryBridget=a(b,b.jQuery)}}}(window,function factory(c,f){var e=Array.prototype.slice;var a=c.console;var b=typeof a=="undefined"?function(){}:function(h){a.error(h)};function g(j,l,k){k=k||f||c.jQuery;if(!k){return}if(!l.prototype.option){l.prototype.option=function(m){if(!k.isPlainObject(m)){return}this.options=k.extend(true,this.options,m)}}k.fn[j]=function(n){if(typeof n=="string"){var m=e.call(arguments,1);return i(this,n,m)}h(this,n);return this};function i(q,m,n){var o;var p="$()."+j+'("'+m+'")';q.each(function(s,t){var r=k.data(t,j);if(!r){b(j+" not initialized. Cannot call methods, i.e. "+p);return}var v=r[m];if(!v||m.charAt(0)=="_"){b(p+" is not a valid method");return}var u=v.apply(r,n);o=o===undefined?u:o});return o!==undefined?o:q}function h(n,m){n.each(function(p,q){var o=k.data(q,j);if(o){o.option(m);o._init()}else{o=new l(q,m);k.data(q,j,o)}})}d(k)}function d(h){if(!h||(h&&h.bridget)){return}h.bridget=g}d(f||c.jQuery);return g}));(function(b,a){if(typeof define=="function"&&define.amd){define("ev-emitter/ev-emitter",a)}else{if(typeof module=="object"&&module.exports){module.exports=a()}else{b.EvEmitter=a()}}}(typeof window!="undefined"?window:this,function(){function a(){}var b=a.prototype;b.on=function(c,f){if(!c||!f){return}var d=this._events=this._events||{};var e=d[c]=d[c]||[];if(e.indexOf(f)==-1){e.push(f)}return this};b.once=function(d,e){if(!d||!e){return}this.on(d,e);var c=this._onceEvents=this._onceEvents||{};var f=c[d]=c[d]||{};f[e]=true;return this};b.off=function(c,f){var e=this._events&&this._events[c];if(!e||!e.length){return}var d=e.indexOf(f);if(d!=-1){e.splice(d,1)}return this};b.emitEvent=function(c,d){var f=this._events&&this._events[c];if(!f||!f.length){return}var e=0;var h=f[e];d=d||[];var j=this._onceEvents&&this._onceEvents[c];while(h){var g=j&&j[h];if(g){this.off(c,h);delete j[h]}h.apply(this,d);e+=g?0:1;h=f[e]}return this};return a}));
/*!
 * getSize v2.0.2
 * measure size of elements
 * MIT license
 */
(function(b,a){if(typeof define=="function"&&define.amd){define("get-size/get-size",[],function(){return a()})}else{if(typeof module=="object"&&module.exports){module.exports=a()}else{b.getSize=a()}}})(window,function factory(){function h(m){var l=parseFloat(m);var n=m.indexOf("%")==-1&&!isNaN(l);return n&&l}function j(){}var i=typeof console=="undefined"?j:function(l){console.error(l)};var b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];var d=b.length;function a(){var m={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var l=0;l<d;l++){var n=b[l];m[n]=0}return m}function g(m){var l=getComputedStyle(m);if(!l){i("Style returned "+l+". Are you running this code in a hidden iframe on Firefox? "+"See http://bit.ly/getsizebug1")}return l}var e=false;var c;function f(){if(e){return}e=true;var n=document.createElement("div");n.style.width="200px";n.style.padding="1px 2px 3px 4px";n.style.borderStyle="solid";n.style.borderWidth="1px 2px 3px 4px";n.style.boxSizing="border-box";var l=document.body||document.documentElement;l.appendChild(n);var m=g(n);k.isBoxSizeOuter=c=h(m.width)==200;l.removeChild(n)}function k(p){f();if(typeof p=="string"){p=document.querySelector(p)}if(!p||typeof p!="object"||!p.nodeType){return}var n=g(p);if(n.display=="none"){return a()}var B={};B.width=p.offsetWidth;B.height=p.offsetHeight;var A=B.isBorderBox=n.boxSizing=="border-box";for(var u=0;u<d;u++){var q=b[u];var z=n[q];var w=parseFloat(z);B[q]=!isNaN(w)?w:0}var v=B.paddingLeft+B.paddingRight;var m=B.paddingTop+B.paddingBottom;var y=B.marginLeft+B.marginRight;var o=B.marginTop+B.marginBottom;var l=B.borderLeftWidth+B.borderRightWidth;var x=B.borderTopWidth+B.borderBottomWidth;var t=A&&c;var s=h(n.width);if(s!==false){B.width=s+(t?0:v+l)}var r=h(n.height);if(r!==false){B.height=r+(t?0:m+x)}B.innerWidth=B.width-(v+l);B.innerHeight=B.height-(m+x);B.outerWidth=B.width+y;B.outerHeight=B.height+o;return B}return k});(function(b,a){if(typeof define=="function"&&define.amd){define("desandro-matches-selector/matches-selector",a)}else{if(typeof module=="object"&&module.exports){module.exports=a()
}else{b.matchesSelector=a()}}}(window,function factory(){var b=(function(){var c=window.Element.prototype;if(c.matches){return"matches"}if(c.matchesSelector){return"matchesSelector"}var f=["webkit","moz","ms","o"];for(var d=0;d<f.length;d++){var e=f[d];var g=e+"MatchesSelector";if(c[g]){return g}}})();return function a(d,c){return d[b](c)}}));(function(b,a){if(typeof define=="function"&&define.amd){define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(c){return a(b,c)})}else{if(typeof module=="object"&&module.exports){module.exports=a(b,require("desandro-matches-selector"))}else{b.fizzyUIUtils=a(b,b.matchesSelector)}}}(window,function factory(d,c){var a={};a.extend=function(f,e){for(var g in e){f[g]=e[g]}return f};a.modulo=function(e,f){return((e%f)+f)%f};a.makeArray=function(g){var f=[];if(Array.isArray(g)){f=g}else{if(g&&typeof g=="object"&&typeof g.length=="number"){for(var e=0;e<g.length;e++){f.push(g[e])}}else{f.push(g)}}return f};a.removeFrom=function(f,g){var e=f.indexOf(g);if(e!=-1){f.splice(e,1)}};a.getParent=function(f,e){while(f!=document.body){f=f.parentNode;if(c(f,e)){return f}}};a.getQueryElement=function(e){if(typeof e=="string"){return document.querySelector(e)}return e};a.handleEvent=function(e){var f="on"+e.type;if(this[f]){this[f](e)}};a.filterFindElements=function(f,e){f=a.makeArray(f);var g=[];f.forEach(function(j){if(!(j instanceof HTMLElement)){return}if(!e){g.push(j);return}if(c(j,e)){g.push(j)}var k=j.querySelectorAll(e);for(var h=0;h<k.length;h++){g.push(k[h])}});return g};a.debounceMethod=function(h,g,e){var i=h.prototype[g];var f=g+"Timeout";h.prototype[g]=function(){var k=this[f];if(k){clearTimeout(k)}var j=arguments;var l=this;this[f]=setTimeout(function(){i.apply(l,j);delete l[f]},e||100)}};a.docReady=function(f){var e=document.readyState;if(e=="complete"||e=="interactive"){setTimeout(f)}else{document.addEventListener("DOMContentLoaded",f)}};a.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(g,f,h){return f+"-"+h}).toLowerCase()};var b=d.console;a.htmlInit=function(e,f){a.docReady(function(){var l=a.toDashed(f);var k="data-"+l;var i=document.querySelectorAll("["+k+"]");var g=document.querySelectorAll(".js-"+l);var h=a.makeArray(i).concat(a.makeArray(g));var m=k+"-options";var j=d.jQuery;h.forEach(function(r){var o=r.getAttribute(k)||r.getAttribute(m);var q;try{q=o&&JSON.parse(o)}catch(p){if(b){b.error("Error parsing "+k+" on "+r.className+": "+p)}return}var n=new e(r,q);if(j){j.data(r,f,n)}})})};return a}));(function(b,a){if(typeof define=="function"&&define.amd){define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],a)}else{if(typeof module=="object"&&module.exports){module.exports=a(require("ev-emitter"),require("get-size"))}else{b.Outlayer={};b.Outlayer.Item=a(b.EvEmitter,b.getSize)}}}(window,function factory(b,n){function m(o){for(var p in o){return false}p=null;return true}var h=document.documentElement.style;var l=typeof h.transition=="string"?"transition":"WebkitTransition";var i=typeof h.transform=="string"?"transform":"WebkitTransform";var a={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[l];var j={transform:i,transition:l,transitionDuration:l+"Duration",transitionProperty:l+"Property",transitionDelay:l+"Delay"};function c(o,p){if(!o){return}this.element=o;this.layout=p;this.position={x:0,y:0};this._create()}var e=c.prototype=Object.create(b.prototype);e.constructor=c;e._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};e.handleEvent=function(o){var p="on"+o.type;if(this[p]){this[p](o)}};e.getSize=function(){this.size=n(this.element)};e.css=function(q){var o=this.element.style;for(var r in q){var p=j[r]||r;o[p]=q[r]}};e.getPosition=function(){var s=getComputedStyle(this.element);var v=this.layout._getOption("originLeft");var u=this.layout._getOption("originTop");var r=s[v?"left":"right"];var q=s[u?"top":"bottom"];var p=this.layout.size;var o=r.indexOf("%")!=-1?(parseFloat(r)/100)*p.width:parseInt(r,10);var t=q.indexOf("%")!=-1?(parseFloat(q)/100)*p.height:parseInt(q,10);o=isNaN(o)?0:o;t=isNaN(t)?0:t;o-=v?p.paddingLeft:p.paddingRight;t-=u?p.paddingTop:p.paddingBottom;this.position.x=o;this.position.y=t};e.layoutPosition=function(){var q=this.layout.size;var p={};var A=this.layout._getOption("originLeft");var B=this.layout._getOption("originTop");var w=A?"paddingLeft":"paddingRight";var r=A?"left":"right";var s=A?"right":"left";var v=this.position.x+q[w];p[r]=this.getXValue(v);p[s]="";var t=B?"paddingTop":"paddingBottom";var z=B?"top":"bottom";var o=B?"bottom":"top";var u=this.position.y+q[t];p[z]=this.getYValue(u);p[o]="";this.css(p);this.emitEvent("layout",[this])};e.getCeiledValue=function(o){return Math.ceil(o*100)/100};e.getXValue=function(o){var p=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!p?this.getCeiledValue(((o/this.layout.size.width)*100))+"%":o+"px"};e.getYValue=function(p){var o=this.layout._getOption("horizontal");
return this.layout.options.percentPosition&&o?this.getCeiledValue(((p/this.layout.size.height)*100))+"%":p+"px"};e._transitionTo=function(z,w){this.getPosition();var p=this.position.x;var o=this.position.y;var v=parseInt(z,10);var u=parseInt(w,10);var t=v===this.position.x&&u===this.position.y;this.setPosition(z,w);if(t&&!this.isTransitioning){this.layoutPosition();return}var s=z-p;var r=w-o;var q={};q.transform=this.getTranslate(s,r);this.transition({to:q,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};e.getTranslate=function(o,r){var q=this.layout._getOption("originLeft");var p=this.layout._getOption("originTop");o=q?o:-o;r=p?r:-r;return"translate3d("+o+"px, "+r+"px, 0)"};e.goTo=function(o,p){this.setPosition(o,p);this.layoutPosition()};e.moveTo=e._transitionTo;e.setPosition=function(o,p){this.position.x=parseInt(o,10);this.position.y=parseInt(p,10)};e._nonTransition=function(o){this.css(o.to);if(o.isCleaning){this._removeStyles(o.to)}for(var p in o.onTransitionEnd){o.onTransitionEnd[p].call(this)}};e.transition=function(o){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(o);return}var q=this._transn;for(var r in o.onTransitionEnd){q.onEnd[r]=o.onTransitionEnd[r]}for(r in o.to){q.ingProperties[r]=true;if(o.isCleaning){q.clean[r]=true}}if(o.from){this.css(o.from);var p=this.element.offsetHeight;p=null}this.enableTransition(o.to);this.css(o.to);this.isTransitioning=true};function g(o){return o.replace(/([A-Z])/g,function(p){return"-"+p.toLowerCase()})}var k="opacity,"+g(i);e.enableTransition=function(){if(this.isTransitioning){return}var o=this.layout.options.transitionDuration;o=typeof o=="number"?o+"ms":o;this.css({transitionProperty:k,transitionDuration:o,transitionDelay:this.staggerDelay||0});this.element.addEventListener(a,this,false)};e.onwebkitTransitionEnd=function(o){this.ontransitionend(o)};e.onotransitionend=function(o){this.ontransitionend(o)};var d={"-webkit-transform":"transform"};e.ontransitionend=function(r){if(r.target!==this.element){return}var q=this._transn;var o=d[r.propertyName]||r.propertyName;delete q.ingProperties[o];if(m(q.ingProperties)){this.disableTransition()}if(o in q.clean){this.element.style[r.propertyName]="";delete q.clean[o]}if(o in q.onEnd){var p=q.onEnd[o];p.call(this);delete q.onEnd[o]}this.emitEvent("transitionEnd",[this])};e.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(a,this,false);this.isTransitioning=false};e._removeStyles=function(p){var o={};for(var q in p){o[q]=""}this.css(o)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};e.removeTransitionStyles=function(){this.css(f)};e.stagger=function(o){o=isNaN(o)?0:o;this.staggerDelay=o+"ms"};e.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])};e.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()});this.hide()};e.reveal=function(){delete this.isHidden;this.css({display:""});var p=this.layout.options;var q={};var o=this.getHideRevealTransitionEndProperty("visibleStyle");q[o]=this.onRevealTransitionEnd;this.transition({from:p.hiddenStyle,to:p.visibleStyle,isCleaning:true,onTransitionEnd:q})};e.onRevealTransitionEnd=function(){if(!this.isHidden){this.emitEvent("reveal")}};e.getHideRevealTransitionEndProperty=function(p){var o=this.layout.options[p];if(o.opacity){return"opacity"}for(var q in o){return q}};e.hide=function(){this.isHidden=true;this.css({display:""});var p=this.layout.options;var q={};var o=this.getHideRevealTransitionEndProperty("hiddenStyle");q[o]=this.onHideTransitionEnd;this.transition({from:p.visibleStyle,to:p.hiddenStyle,isCleaning:true,onTransitionEnd:q})};e.onHideTransitionEnd=function(){if(this.isHidden){this.css({display:"none"});this.emitEvent("hide")}};e.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return c}));
/*!
 * Outlayer v2.1.0
 * the brains and guts of a layout library
 * MIT license
 */
(function(b,a){if(typeof define=="function"&&define.amd){define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,f,d,e){return a(b,c,f,d,e)})}else{if(typeof module=="object"&&module.exports){module.exports=a(b,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item"))}else{b.Outlayer=a(b,b.EvEmitter,b.getSize,b.fizzyUIUtils,b.Outlayer.Item)}}}(window,function factory(i,b,n,l,d){var e=i.console;var o=i.jQuery;var m=function(){};var h=0;var a={};function g(s,q){var p=l.getQueryElement(s);if(!p){if(e){e.error("Bad element for "+this.constructor.namespace+": "+(p||s))}return}this.element=p;if(o){this.$element=o(this.element)}this.options=l.extend({},this.constructor.defaults);this.option(q);var t=++h;this.element.outlayerGUID=t;a[t]=this;this._create();var r=this._getOption("initLayout");
if(r){this.layout()}}g.namespace="outlayer";g.Item=d;g.defaults={containerStyle:{position:"relative"},initLayout:true,originLeft:true,originTop:true,resize:true,resizeContainer:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=g.prototype;l.extend(f,b.prototype);f.option=function(p){l.extend(this.options,p)};f._getOption=function(q){var p=this.constructor.compatOptions[q];return p&&this.options[p]!==undefined?this.options[p]:this.options[q]};g.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"};f._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);l.extend(this.element.style,this.options.containerStyle);var p=this._getOption("resize");if(p){this.bindResize()}};f.reloadItems=function(){this.items=this._itemize(this.element.children)};f._itemize=function(q){var t=this._filterFindItemElements(q);var r=this.constructor.Item;var p=[];for(var s=0;s<t.length;s++){var v=t[s];var u=new r(v,this);p.push(u)}return p};f._filterFindItemElements=function(p){return l.filterFindElements(p,this.options.itemSelector)};f.getItemElements=function(){return this.items.map(function(p){return p.element})};f.layout=function(){this._resetLayout();this._manageStamps();var p=this._getOption("layoutInstant");var q=p!==undefined?p:!this._isLayoutInited;this.layoutItems(this.items,q);this._isLayoutInited=true};f._init=f.layout;f._resetLayout=function(){this.getSize()};f.getSize=function(){this.size=n(this.element)};f._getMeasurement=function(r,p){var q=this.options[r];var s;if(!q){this[r]=0}else{if(typeof q=="string"){s=this.element.querySelector(q)}else{if(q instanceof HTMLElement){s=q}}this[r]=s?n(s)[p]:q}};f.layoutItems=function(p,q){p=this._getItemsForLayout(p);this._layoutItems(p,q);this._postLayout()};f._getItemsForLayout=function(p){return p.filter(function(q){return !q.isIgnored})};f._layoutItems=function(q,r){this._emitCompleteOnItems("layout",q);if(!q||!q.length){return}var p=[];q.forEach(function(t){var s=this._getItemLayoutPosition(t);s.item=t;s.isInstant=r||t.isLayoutInstant;p.push(s)},this);this._processLayoutQueue(p)};f._getItemLayoutPosition=function(){return{x:0,y:0}};f._processLayoutQueue=function(p){this.updateStagger();p.forEach(function(r,q){this._positionItem(r.item,r.x,r.y,r.isInstant,q)},this)};f.updateStagger=function(){var p=this.options.stagger;if(p===null||p===undefined){this.stagger=0;return}this.stagger=j(p);return this.stagger};f._positionItem=function(r,p,t,s,q){if(s){r.goTo(p,t)}else{r.stagger(q*this.stagger);r.moveTo(p,t)}};f._postLayout=function(){this.resizeContainer()};f.resizeContainer=function(){var q=this._getOption("resizeContainer");if(!q){return}var p=this._getContainerSize();if(p){this._setContainerMeasure(p.width,true);this._setContainerMeasure(p.height,false)}};f._getContainerSize=m;f._setContainerMeasure=function(p,q){if(p===undefined){return}var r=this.size;if(r.isBorderBox){p+=q?r.paddingLeft+r.paddingRight+r.borderLeftWidth+r.borderRightWidth:r.paddingBottom+r.paddingTop+r.borderTopWidth+r.borderBottomWidth}p=Math.max(p,0);this.element.style[q?"width":"height"]=p+"px"};f._emitCompleteOnItems=function(q,p){var v=this;function u(){v.dispatchEvent(q+"Complete",null,[p])}var t=p.length;if(!p||!t){u();return}var r=0;function s(){r++;if(r==t){u()}}p.forEach(function(w){w.once(q,s)})};f.dispatchEvent=function(s,t,q){var r=t?[t].concat(q):q;this.emitEvent(s,r);if(o){this.$element=this.$element||o(this.element);if(t){var p=o.Event(t);p.type=s;this.$element.trigger(p,q)}else{this.$element.trigger(s,q)}}};f.ignore=function(q){var p=this.getItem(q);if(p){p.isIgnored=true}};f.unignore=function(q){var p=this.getItem(q);if(p){delete p.isIgnored}};f.stamp=function(p){p=this._find(p);if(!p){return}this.stamps=this.stamps.concat(p);p.forEach(this.ignore,this)};f.unstamp=function(p){p=this._find(p);if(!p){return}p.forEach(function(q){l.removeFrom(this.stamps,q);this.unignore(q)},this)};f._find=function(p){if(!p){return}if(typeof p=="string"){p=this.element.querySelectorAll(p)}p=l.makeArray(p);return p};f._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();this.stamps.forEach(this._manageStamp,this)};f._getBoundingRect=function(){var p=this.element.getBoundingClientRect();var q=this.size;this._boundingRect={left:p.left+q.paddingLeft+q.borderLeftWidth,top:p.top+q.paddingTop+q.borderTopWidth,right:p.right-(q.paddingRight+q.borderRightWidth),bottom:p.bottom-(q.paddingBottom+q.borderBottomWidth)}};f._manageStamp=m;f._getElementOffset=function(s){var p=s.getBoundingClientRect();var r=this._boundingRect;var q=n(s);var t={left:p.left-r.left-q.marginLeft,top:p.top-r.top-q.marginTop,right:r.right-p.right-q.marginRight,bottom:r.bottom-p.bottom-q.marginBottom};return t};f.handleEvent=l.handleEvent;f.bindResize=function(){i.addEventListener("resize",this);
this.isResizeBound=true};f.unbindResize=function(){i.removeEventListener("resize",this);this.isResizeBound=false};f.onresize=function(){this.resize()};l.debounceMethod(g,"onresize",100);f.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}this.layout()};f.needsResizeLayout=function(){var q=n(this.element);var p=this.size&&q;return p&&q.innerWidth!==this.size.innerWidth};f.addItems=function(q){var p=this._itemize(q);if(p.length){this.items=this.items.concat(p)}return p};f.appended=function(q){var p=this.addItems(q);if(!p.length){return}this.layoutItems(p,true);this.reveal(p)};f.prepended=function(q){var p=this._itemize(q);if(!p.length){return}var r=this.items.slice(0);this.items=p.concat(r);this._resetLayout();this._manageStamps();this.layoutItems(p,true);this.reveal(p);this.layoutItems(r)};f.reveal=function(p){this._emitCompleteOnItems("reveal",p);if(!p||!p.length){return}var q=this.updateStagger();p.forEach(function(s,r){s.stagger(r*q);s.reveal()})};f.hide=function(p){this._emitCompleteOnItems("hide",p);if(!p||!p.length){return}var q=this.updateStagger();p.forEach(function(s,r){s.stagger(r*q);s.hide()})};f.revealItemElements=function(q){var p=this.getItems(q);this.reveal(p)};f.hideItemElements=function(q){var p=this.getItems(q);this.hide(p)};f.getItem=function(r){for(var p=0;p<this.items.length;p++){var q=this.items[p];if(q.element==r){return q}}};f.getItems=function(q){q=l.makeArray(q);var p=[];q.forEach(function(s){var r=this.getItem(s);if(r){p.push(r)}},this);return p};f.remove=function(p){var q=this.getItems(p);this._emitCompleteOnItems("remove",q);if(!q||!q.length){return}q.forEach(function(r){r.remove();l.removeFrom(this.items,r)},this)};f.destroy=function(){var p=this.element.style;p.height="";p.position="";p.width="";this.items.forEach(function(r){r.destroy()});this.unbindResize();var q=this.element.outlayerGUID;delete a[q];delete this.element.outlayerGUID;if(o){o.removeData(this.element,this.constructor.namespace)}};g.data=function(p){p=l.getQueryElement(p);var q=p&&p.outlayerGUID;return q&&a[q]};g.create=function(r,p){var q=c(g);q.defaults=l.extend({},g.defaults);l.extend(q.defaults,p);q.compatOptions=l.extend({},g.compatOptions);q.namespace=r;q.data=g.data;q.Item=c(d);l.htmlInit(q,r);if(o&&o.bridget){o.bridget(r,q)}return q};function c(p){function q(){p.apply(this,arguments)}q.prototype=Object.create(p.prototype);q.prototype.constructor=q;return q}var k={ms:1,s:1000};function j(t){if(typeof t=="number"){return t}var r=t.match(/(^\d*\.?\d*)(\w*)/);var p=r&&r[1];var q=r&&r[2];if(!p.length){return 0}p=parseFloat(p);var s=k[q]||1;return p*s}g.Item=d;return g}));
/*!
 * Masonry v4.2.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(b,a){if(typeof define=="function"&&define.amd){define(["outlayer/outlayer","get-size/get-size"],a)}else{if(typeof module=="object"&&module.exports){module.exports=a(require("outlayer"),require("get-size"))}else{b.Masonry=a(b.Outlayer,b.getSize)}}}(window,function factory(b,d){var a=b.create("masonry");a.compatOptions.fitWidth="isFitWidth";var c=a.prototype;c._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();this.colYs=[];for(var e=0;e<this.cols;e++){this.colYs.push(0)}this.maxY=0;this.horizontalColIndex=0};c.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var k=this.items[0];var g=k&&k.element;this.columnWidth=g&&d(g).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter;var h=this.containerWidth+this.gutter;var j=h/i;var e=i-h%i;var f=e&&e<1?"round":"floor";j=Math[f](j);this.cols=Math.max(j,1)};c.getContainerWidth=function(){var g=this._getOption("fitWidth");var e=g?this.element.parentNode:this.element;var f=d(e);this.containerWidth=f&&f.innerWidth};c._getItemLayoutPosition=function(n){n.getSize();var m=n.size.outerWidth%this.columnWidth;var h=m&&m<1?"round":"ceil";var j=Math[h](n.size.outerWidth/this.columnWidth);j=Math.min(j,this.cols);var e=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition";var k=this[e](j,n);var g={x:this.columnWidth*k.col,y:k.y};var l=k.y+n.size.outerHeight;var o=j+k.col;for(var f=k.col;f<o;f++){this.colYs[f]=l}return g};c._getTopColPosition=function(f){var g=this._getTopColGroup(f);var e=Math.min.apply(Math,g);return{col:g.indexOf(e),y:e,}};c._getTopColGroup=function(f){if(f<2){return this.colYs}var g=[];var h=this.cols+1-f;for(var e=0;e<h;e++){g[e]=this._getColGroupY(e,f)}return g};c._getColGroupY=function(e,g){if(g<2){return this.colYs[e]}var f=this.colYs.slice(e,e+g);return Math.max.apply(Math,f)};c._getHorizontalColPosition=function(g,f){var e=this.horizontalColIndex%this.cols;var h=g>1&&e+g>this.cols;e=h?0:e;var i=f.size.outerWidth&&f.size.outerHeight;this.horizontalColIndex=i?e+g:this.horizontalColIndex;return{col:e,y:this._getColGroupY(e,g),}};c._manageStamp=function(e){var l=d(e);var j=this._getElementOffset(e);
var p=this._getOption("originLeft");var h=p?j.left:j.right;var f=h+l.outerWidth;var n=Math.floor(h/this.columnWidth);n=Math.max(0,n);var g=Math.floor(f/this.columnWidth);g-=f%this.columnWidth?0:1;g=Math.min(this.cols-1,g);var o=this._getOption("originTop");var m=(o?j.top:j.bottom)+l.outerHeight;for(var k=n;k<=g;k++){this.colYs[k]=Math.max(m,this.colYs[k])}};c._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};if(this._getOption("fitWidth")){e.width=this._getContainerFitWidth()}return e};c._getContainerFitWidth=function(){var f=0;var e=this.cols;while(--e){if(this.colYs[e]!==0){break}f++}return(this.cols-f)*this.columnWidth-this.gutter};c.needsResizeLayout=function(){var e=this.containerWidth;this.getContainerWidth();return e!=this.containerWidth};return a}));
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(be,bd,bc,a7){function a6(e,d,f){return setTimeout(aY(e,f),d)}function a4(e,d,f){return Array.isArray(e)?(a3(e,f[d],f),!0):!1}function a3(f,d,h){var g;if(f){if(f.forEach){f.forEach(d,h)}else{if(f.length!==a7){for(g=0;g<f.length;){d.call(h,f[g],g,f),g++}}else{for(g in f){f.hasOwnProperty(g)&&d.call(h,f[g],g,f)}}}}}function a2(a,h,g){var f="DEPRECATED METHOD: "+h+"\n"+g+" AT \n";return function(){var i=new Error("get-stack-trace"),e=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",b=be.console&&(be.console.warn||be.console.log);return b&&b.call(be.console,f,e),a.apply(this,arguments)}}function aZ(g,f,j){var i,h=f.prototype;i=g.prototype=Object.create(h),i.constructor=g,i._super=h,j&&cj(i,j)}function aY(d,c){return function(){return d.apply(c,arguments)}}function aW(d,c){return typeof d==a8?d.apply(c?c[0]||a7:a7,c):d}function aV(d,c){return d===a7?c:d}function aU(e,d,f){a3(aO(d),function(a){e.addEventListener(a,f,!1)})}function aS(e,d,f){a3(aO(d),function(a){e.removeEventListener(a,f,!1)})}function aR(d,c){for(;d;){if(d==c){return !0}d=d.parentNode}return !1}function aP(d,c){return d.indexOf(c)>-1}function aO(b){return b.trim().split(/\s+/g)}function aN(f,e,h){if(f.indexOf&&!h){return f.indexOf(e)}for(var g=0;g<f.length;){if(h&&f[g][h]==e||!h&&f[g]===e){return g}g++}return -1}function aM(b){return Array.prototype.slice.call(b,0)}function aL(i,h,n){for(var m=[],l=[],k=0;k<i.length;){var j=h?i[k][h]:i[k];aN(l,j)<0&&m.push(i[k]),l[k]=j,k++}return n&&(m=h?m.sort(function(b,d){return b[h]>d[h]}):m.sort()),m}function aK(h,d){for(var l,k,j=d[0].toUpperCase()+d.slice(1),i=0;i<b4.length;){if(l=b4[i],k=l?l+j:d,k in h){return k}i++}return a7}function aJ(){return bg++}function aI(a){var d=a.ownerDocument||a;return d.defaultView||d.parentWindow||be}function aH(e,d){var f=this;this.manager=e,this.callback=d,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){aW(e.options.enable,[e])&&f.handler(a)},this.init()}function aF(e){var d,f=e.options.inputClass;return new (d=f?f:ac?bz:cc?bv:ap?bs:bA)(e,aE)}function aE(i,h,n){var m=n.pointers.length,l=n.changedPointers.length,k=h&ax&&m-l===0,j=h&(ck|b5)&&m-l===0;n.isFirst=!!k,n.isFinal=!!j,k&&(i.session={}),n.eventType=h,bT(i,n),i.emit("hammer.input",n),i.recognize(n),i.session.prevInput=n}function bT(v,u){var t=v.session,s=u.pointers,r=s.length;t.firstInput||(t.firstInput=bO(u)),r>1&&!t.firstMultiple?t.firstMultiple=bO(u):1===r&&(t.firstMultiple=!1);var q=t.firstInput,p=t.firstMultiple,o=p?p.center:q.center,n=u.center=bL(s);u.timeStamp=cm(),u.deltaTime=u.timeStamp-q.timeStamp,u.angle=bG(o,n),u.distance=bH(o,n),bR(t,u),u.offsetDirection=bI(u.deltaX,u.deltaY);var m=bK(u.deltaTime,u.deltaX,u.deltaY);u.overallVelocityX=m.x,u.overallVelocityY=m.y,u.overallVelocity=am(m.x)>am(m.y)?m.x:m.y,u.scale=p?bC(p.pointers,s):1,u.rotation=p?bD(p.pointers,s):0,u.maxPointers=t.prevInput?u.pointers.length>t.prevInput.maxPointers?u.pointers.length:t.prevInput.maxPointers:u.pointers.length,bQ(t,u);var l=v.element;aR(u.srcEvent.target,l)&&(l=u.srcEvent.target),u.target=l}function bR(h,g){var l=g.center,k=h.offsetDelta||{},j=h.prevDelta||{},i=h.prevInput||{};g.eventType!==ax&&i.eventType!==ck||(j=h.prevDelta={x:i.deltaX||0,y:i.deltaY||0},k=h.offsetDelta={x:l.x,y:l.y}),g.deltaX=j.x+(l.x-k.x),g.deltaY=j.y+(l.y-k.y)}function bQ(v,u){var t,s,r,q,p=v.lastInterval||u,o=u.timeStamp-p.timeStamp;if(u.eventType!=b5&&(o>a1||p.velocity===a7)){var n=u.deltaX-p.deltaX,m=u.deltaY-p.deltaY,d=bK(o,n,m);s=d.x,r=d.y,t=am(d.x)>am(d.y)?d.x:d.y,q=bI(n,m),v.lastInterval=u}else{t=p.velocity,s=p.velocityX,r=p.velocityY,q=p.direction}u.velocity=t,u.velocityX=s,u.velocityY=r,u.direction=q}function bO(e){for(var d=[],f=0;f<e.pointers.length;){d[f]={clientX:az(e.pointers[f].clientX),clientY:az(e.pointers[f].clientY)},f++}return{timeStamp:cm(),pointers:d,center:bL(d),deltaX:e.deltaX,deltaY:e.deltaY}}function bL(g){var f=g.length;if(1===f){return{x:az(g[0].clientX),y:az(g[0].clientY)}
}for(var j=0,i=0,h=0;f>h;){j+=g[h].clientX,i+=g[h].clientY,h++}return{x:az(j/f),y:az(i/f)}}function bK(e,d,f){return{x:d/e||0,y:f/e||0}}function bI(d,c){return d===c?bN:am(d)>=am(c)?0>d?a9:aA:0>c?an:cn}function bH(g,f,j){j||(j=aD);var i=f[j[0]]-g[j[0]],h=f[j[1]]-g[j[1]];return Math.sqrt(i*i+h*h)}function bG(g,f,j){j||(j=aD);var i=f[j[0]]-g[j[0]],h=f[j[1]]-g[j[1]];return 180*Math.atan2(h,i)/Math.PI}function bD(d,c){return bG(c[1],c[0],aq)+bG(d[1],d[0],aq)}function bC(d,c){return bH(c[0],c[1],aq)/bH(d[0],d[1],aq)}function bA(){this.evEl=cd,this.evWin=bX,this.pressed=!1,aH.apply(this,arguments)}function bz(){this.evEl=ar,this.evWin=ae,aH.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function by(){this.evTarget=bP,this.evWin=af,this.started=!1,aH.apply(this,arguments)}function bx(f,e){var h=aM(f.touches),g=aM(f.changedTouches);return e&(ck|b5)&&(h=aL(h.concat(g),"identifier",!0)),[h,g]}function bv(){this.evTarget=bu,this.targetIds={},aH.apply(this,arguments)}function bt(r,q){var p=aM(r.touches),o=this.targetIds;if(q&(ax|ak)&&1===p.length){return o[p[0].identifier]=!0,[p,p]}var n,m,l=aM(r.changedTouches),k=[],j=this.target;if(m=p.filter(function(b){return aR(b.target,j)}),q===ax){for(n=0;n<m.length;){o[m[n].identifier]=!0,n++}}for(n=0;n<l.length;){o[l[n].identifier]&&k.push(l[n]),q&(ck|b5)&&delete o[l[n].identifier],n++}return k.length?[aL(m.concat(k),"identifier",!0),k]:void 0}function bs(){aH.apply(this,arguments);var b=aY(this.handler,this);this.touch=new bv(this.manager,b),this.mouse=new bA(this.manager,b),this.primaryTouch=null,this.lastTouches=[]}function br(d,c){d&ax?(this.primaryTouch=c.changedPointers[0].identifier,bq.call(this,c)):d&(ck|b5)&&bq.call(this,c)}function bq(g){var f=g.changedPointers[0];if(f.identifier===this.primaryTouch){var j={x:f.clientX,y:f.clientY};this.lastTouches.push(j);var i=this.lastTouches,h=function(){var b=i.indexOf(j);b>-1&&i.splice(b,1)};setTimeout(h,aQ)}}function bp(i){for(var h=i.srcEvent.clientX,n=i.srcEvent.clientY,m=0;m<this.lastTouches.length;m++){var l=this.lastTouches[m],k=Math.abs(h-l.x),j=Math.abs(n-l.y);if(at>=k&&at>=j){return !0}}return !1}function bo(d,c){this.manager=d,this.set(c)}function bn(e){if(aP(e,av)){return av}var d=aP(e,ai),f=aP(e,ci);return d&&f?av:d||f?d?ai:ci:aP(e,aX)?aX:bB}function bm(){if(!cf){return !1}var a={},d=be.CSS&&be.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(b){a[b]=d?be.CSS.supports("touch-action",b):!0}),a}function bl(b){this.options=cj({},this.defaults,b||{}),this.id=aJ(),this.manager=null,this.options.enable=aV(this.options.enable,!0),this.state=bJ,this.simultaneous={},this.requireFail=[]}function bj(b){return b&b7?"cancel":b&al?"end":b&ay?"move":b&a5?"start":""}function b6(b){return b==cn?"down":b==an?"up":b==a9?"left":b==aA?"right":""}function bh(e,d){var f=d.manager;return f?f.get(e):e}function bZ(){bl.apply(this,arguments)}function bw(){bZ.apply(this,arguments),this.pX=null,this.pY=null}function aT(){bZ.apply(this,arguments)}function au(){bl.apply(this,arguments),this._timer=null,this._input=null}function ah(){bZ.apply(this,arguments)}function cg(){bZ.apply(this,arguments)}function b1(){bl.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function bE(d,c){return c=c||{},c.recognizers=aV(c.recognizers,bE.defaults.preset),new a0(d,c)}function a0(d,c){this.options=cj({},bE.defaults,c||{}),this.options.inputTarget=this.options.inputTarget||d,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=d,this.input=aF(this),this.touchAction=new bo(this,this.options.touchAction),aw(this,!0),a3(this.options.recognizers,function(f){var e=this.add(new f[0](f[1]));f[2]&&e.recognizeWith(f[2]),f[3]&&e.requireFailure(f[3])},this)}function aw(f,e){var h=f.element;if(h.style){var g;a3(f.options.cssProps,function(b,a){g=aK(h.style,a),e?(f.oldCssProps[g]=h.style[g],h.style[g]=b):h.style[g]=f.oldCssProps[g]||""}),e||(f.oldCssProps={})}}function aj(b,f){var e=bd.createEvent("Event");e.initEvent(b,!0,!0),e.gesture=f,f.target.dispatchEvent(e)}var cj,b4=["","webkit","Moz","MS","ms","o"],bM=bd.createElement("div"),a8="function",az=Math.round,am=Math.abs,cm=Date.now;cj="function"!=typeof Object.assign?function(g){if(g===a7||null===g){throw new TypeError("Cannot convert undefined or null to object")}for(var d=Object(g),j=1;j<arguments.length;j++){var i=arguments[j];if(i!==a7&&null!==i){for(var h in i){i.hasOwnProperty(h)&&(d[h]=i[h])}}}return d}:Object.assign;var b8=a2(function(g,d,j){for(var i=Object.keys(d),h=0;h<i.length;){(!j||j&&g[i[h]]===a7)&&(g[i[h]]=d[i[h]]),h++}return g},"extend","Use `assign`."),bU=a2(function(d,c){return b8(d,c,!0)},"merge","Use `assign`."),bg=1,aC=/mobile|tablet|ip(ad|hone|od)|android/i,ap="ontouchstart" in be,ac=aK(be,"PointerEvent")!==a7,cc=ap&&aC.test(navigator.userAgent),bW="touch",ch="pen",b2="mouse",bF="kinect",a1=25,ax=1,ak=2,ck=4,b5=8,bN=1,a9=2,aA=4,an=8,cn=16,b9=a9|aA,bV=an|cn,bi=b9|bV,aD=["x","y"],aq=["clientX","clientY"];
aH.prototype={handler:function(){},init:function(){this.evEl&&aU(this.element,this.evEl,this.domHandler),this.evTarget&&aU(this.target,this.evTarget,this.domHandler),this.evWin&&aU(aI(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&aS(this.element,this.evEl,this.domHandler),this.evTarget&&aS(this.target,this.evTarget,this.domHandler),this.evWin&&aS(aI(this.element),this.evWin,this.domHandler)}};var ad={mousedown:ax,mousemove:ak,mouseup:ck},cd="mousedown",bX="mousemove mouseup";aZ(bA,aH,{handler:function(d){var c=ad[d.type];c&ax&&0===d.button&&(this.pressed=!0),c&ak&&1!==d.which&&(c=ck),this.pressed&&(c&ck&&(this.pressed=!1),this.callback(this.manager,c,{pointers:[d],changedPointers:[d],pointerType:b2,srcEvent:d}))}});var bk={pointerdown:ax,pointermove:ak,pointerup:ck,pointercancel:b5,pointerout:b5},aG={2:bW,3:ch,4:b2,5:bF},ar="pointerdown",ae="pointermove pointerup pointercancel";be.MSPointerEvent&&!be.PointerEvent&&(ar="MSPointerDown",ae="MSPointerMove MSPointerUp MSPointerCancel"),aZ(bz,aH,{handler:function(j){var i=this.store,p=!1,o=j.type.toLowerCase().replace("ms",""),n=bk[o],m=aG[j.pointerType]||j.pointerType,l=m==bW,k=aN(i,j.pointerId,"pointerId");n&ax&&(0===j.button||l)?0>k&&(i.push(j),k=i.length-1):n&(ck|b5)&&(p=!0),0>k||(i[k]=j,this.callback(this.manager,n,{pointers:i,changedPointers:[j],pointerType:m,srcEvent:j}),p&&i.splice(k,1))}});var ce={touchstart:ax,touchmove:ak,touchend:ck,touchcancel:b5},bP="touchstart",af="touchstart touchmove touchend touchcancel";aZ(by,aH,{handler:function(e){var d=ce[e.type];if(d===ax&&(this.started=!0),this.started){var f=bx.call(this,e,d);d&(ck|b5)&&f[0].length-f[1].length===0&&(this.started=!1),this.callback(this.manager,d,{pointers:f[0],changedPointers:f[1],pointerType:bW,srcEvent:e})}}});var bY={touchstart:ax,touchmove:ak,touchend:ck,touchcancel:b5},bu="touchstart touchmove touchend touchcancel";aZ(bv,aH,{handler:function(e){var d=bY[e.type],f=bt.call(this,e,d);f&&this.callback(this.manager,d,{pointers:f[0],changedPointers:f[1],pointerType:bW,srcEvent:e})}});var aQ=2500,at=25;aZ(bs,aH,{handler:function(g,f,j){var i=j.pointerType==bW,h=j.pointerType==b2;if(!(h&&j.sourceCapabilities&&j.sourceCapabilities.firesTouchEvents)){if(i){br.call(this,f,j)}else{if(h&&bp.call(this,j)){return}}this.callback(g,f,j)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ag=aK(bM.style,"touchAction"),cf=ag!==a7,b0="compute",bB="auto",aX="manipulation",av="none",ai="pan-x",ci="pan-y",b3=bm();bo.prototype={set:function(b){b==b0&&(b=this.compute()),cf&&this.manager.element.style&&b3[b]&&(this.manager.element.style[ag]=b),this.actions=b.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var b=[];return a3(this.manager.recognizers,function(a){aW(a.options.enable,[a])&&(b=b.concat(a.getTouchAction()))}),bn(b.join(" "))},preventDefaults:function(t){var s=t.srcEvent,r=t.offsetDirection;if(this.manager.session.prevented){return void s.preventDefault()}var q=this.actions,p=aP(q,av)&&!b3[av],o=aP(q,ci)&&!b3[ci],n=aP(q,ai)&&!b3[ai];if(p){var m=1===t.pointers.length,l=t.distance<2,k=t.deltaTime<250;if(m&&l&&k){return}}return n&&o?void 0:p||o&&r&b9||n&&r&bV?this.preventSrc(s):void 0},preventSrc:function(b){this.manager.session.prevented=!0,b.preventDefault()}};var bJ=1,a5=2,ay=4,al=8,cl=al,b7=16,bS=32;bl.prototype={defaults:{},set:function(b){return cj(this.options,b),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(d){if(a4(d,"recognizeWith",this)){return this}var c=this.simultaneous;return d=bh(d,this),c[d.id]||(c[d.id]=d,d.recognizeWith(this)),this},dropRecognizeWith:function(b){return a4(b,"dropRecognizeWith",this)?this:(b=bh(b,this),delete this.simultaneous[b.id],this)},requireFailure:function(d){if(a4(d,"requireFailure",this)){return this}var c=this.requireFail;return d=bh(d,this),-1===aN(c,d)&&(c.push(d),d.requireFailure(this)),this},dropRequireFailure:function(d){if(a4(d,"dropRequireFailure",this)){return this}d=bh(d,this);var c=aN(this.requireFail,d);return c>-1&&this.requireFail.splice(c,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(b){return !!this.simultaneous[b.id]},emit:function(f){function e(a){h.manager.emit(a,f)}var h=this,g=this.state;al>g&&e(h.options.event+bj(g)),e(h.options.event),f.additionalEvent&&e(f.additionalEvent),g>=al&&e(h.options.event+bj(g))},tryEmit:function(b){return this.canEmit()?this.emit(b):void (this.state=bS)},canEmit:function(){for(var b=0;b<this.requireFail.length;){if(!(this.requireFail[b].state&(bS|bJ))){return !1}b++}return !0},recognize:function(d){var c=cj({},d);return aW(this.options.enable,[this,c])?(this.state&(cl|b7|bS)&&(this.state=bJ),this.state=this.process(c),void (this.state&(a5|ay|al|b7)&&this.tryEmit(c))):(this.reset(),void (this.state=bS))},process:function(b){},getTouchAction:function(){},reset:function(){}},aZ(bZ,bl,{defaults:{pointers:1},attrTest:function(d){var c=this.options.pointers;
return 0===c||d.pointers.length===c},process:function(g){var f=this.state,j=g.eventType,i=f&(a5|ay),h=this.attrTest(g);return i&&(j&b5||!h)?f|b7:i||h?j&ck?f|al:f&a5?f|ay:a5:bS}}),aZ(bw,bZ,{defaults:{event:"pan",threshold:10,pointers:1,direction:bi},getTouchAction:function(){var d=this.options.direction,c=[];return d&b9&&c.push(ci),d&bV&&c.push(ai),c},directionTest:function(i){var h=this.options,n=!0,m=i.distance,l=i.direction,k=i.deltaX,j=i.deltaY;return l&h.direction||(h.direction&b9?(l=0===k?bN:0>k?a9:aA,n=k!=this.pX,m=Math.abs(i.deltaX)):(l=0===j?bN:0>j?an:cn,n=j!=this.pY,m=Math.abs(i.deltaY))),i.direction=l,n&&m>h.threshold&&l&h.direction},attrTest:function(b){return bZ.prototype.attrTest.call(this,b)&&(this.state&a5||!(this.state&a5)&&this.directionTest(b))},emit:function(d){this.pX=d.deltaX,this.pY=d.deltaY;var c=b6(d.direction);c&&(d.additionalEvent=this.options.event+c),this._super.emit.call(this,d)}}),aZ(aT,bZ,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[av]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&a5)},emit:function(d){if(1!==d.scale){var c=d.scale<1?"in":"out";d.additionalEvent=this.options.event+c}this._super.emit.call(this,d)}}),aZ(au,bl,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[bB]},process:function(g){var e=this.options,j=g.pointers.length===e.pointers,i=g.distance<e.threshold,h=g.deltaTime>e.time;if(this._input=g,!i||!j||g.eventType&(ck|b5)&&!h){this.reset()}else{if(g.eventType&ax){this.reset(),this._timer=a6(function(){this.state=cl,this.tryEmit()},e.time,this)}else{if(g.eventType&ck){return cl}}}return bS},reset:function(){clearTimeout(this._timer)},emit:function(b){this.state===cl&&(b&&b.eventType&ck?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=cm(),this.manager.emit(this.options.event,this._input)))}}),aZ(ah,bZ,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[av]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&a5)}}),aZ(cg,bZ,{defaults:{event:"swipe",threshold:10,velocity:0.3,direction:b9|bV,pointers:1},getTouchAction:function(){return bw.prototype.getTouchAction.call(this)},attrTest:function(e){var d,f=this.options.direction;return f&(b9|bV)?d=e.overallVelocity:f&b9?d=e.overallVelocityX:f&bV&&(d=e.overallVelocityY),this._super.attrTest.call(this,e)&&f&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&am(d)>this.options.velocity&&e.eventType&ck},emit:function(d){var c=b6(d.offsetDirection);c&&this.manager.emit(this.options.event+c,d),this.manager.emit(this.options.event,d)}}),aZ(b1,bl,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[aX]},process:function(j){var e=this.options,p=j.pointers.length===e.pointers,o=j.distance<e.threshold,n=j.deltaTime<e.time;if(this.reset(),j.eventType&ax&&0===this.count){return this.failTimeout()}if(o&&n&&p){if(j.eventType!=ck){return this.failTimeout()}var m=this.pTime?j.timeStamp-this.pTime<e.interval:!0,l=!this.pCenter||bH(this.pCenter,j.center)<e.posThreshold;this.pTime=j.timeStamp,this.pCenter=j.center,l&&m?this.count+=1:this.count=1,this._input=j;var k=this.count%e.taps;if(0===k){return this.hasRequireFailures()?(this._timer=a6(function(){this.state=cl,this.tryEmit()},e.interval,this),a5):cl}}return bS},failTimeout:function(){return this._timer=a6(function(){this.state=bS},this.options.interval,this),bS},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==cl&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),bE.VERSION="2.0.8",bE.defaults={domEvents:!1,touchAction:b0,enable:!0,inputTarget:null,inputClass:null,preset:[[ah,{enable:!1}],[aT,{enable:!1},["rotate"]],[cg,{direction:b9}],[bw,{direction:b9},["swipe"]],[b1],[b1,{event:"doubletap",taps:2},["tap"]],[au]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var bf=1,aB=2;a0.prototype={set:function(b){return cj(this.options,b),b.touchAction&&this.touchAction.update(),b.inputTarget&&(this.input.destroy(),this.input.target=b.inputTarget,this.input.init()),this},stop:function(b){this.session.stopped=b?aB:bf},recognize:function(h){var g=this.session;if(!g.stopped){this.touchAction.preventDefaults(h);var l,k=this.recognizers,j=g.curRecognizer;(!j||j&&j.state&cl)&&(j=g.curRecognizer=null);for(var i=0;i<k.length;){l=k[i],g.stopped===aB||j&&l!=j&&!l.canRecognizeWith(j)?l.reset():l.recognize(h),!j&&l.state&(a5|ay|al)&&(j=g.curRecognizer=l),i++}}},get:function(e){if(e instanceof bl){return e}for(var d=this.recognizers,f=0;f<d.length;f++){if(d[f].options.event==e){return d[f]}}return null},add:function(d){if(a4(d,"add",this)){return this}var c=this.get(d.options.event);
return c&&this.remove(c),this.recognizers.push(d),d.manager=this,this.touchAction.update(),d},remove:function(e){if(a4(e,"remove",this)){return this}if(e=this.get(e)){var d=this.recognizers,f=aN(d,e);-1!==f&&(d.splice(f,1),this.touchAction.update())}return this},on:function(e,d){if(e!==a7&&d!==a7){var f=this.handlers;return a3(aO(e),function(b){f[b]=f[b]||[],f[b].push(d)}),this}},off:function(e,d){if(e!==a7){var f=this.handlers;return a3(aO(e),function(b){d?f[b]&&f[b].splice(aN(f[b],d),1):delete f[b]}),this}},emit:function(f,e){this.options.domEvents&&aj(f,e);var h=this.handlers[f]&&this.handlers[f].slice();if(h&&h.length){e.type=f,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var g=0;g<h.length;){h[g](e),g++}}},destroy:function(){this.element&&aw(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},cj(bE,{INPUT_START:ax,INPUT_MOVE:ak,INPUT_END:ck,INPUT_CANCEL:b5,STATE_POSSIBLE:bJ,STATE_BEGAN:a5,STATE_CHANGED:ay,STATE_ENDED:al,STATE_RECOGNIZED:cl,STATE_CANCELLED:b7,STATE_FAILED:bS,DIRECTION_NONE:bN,DIRECTION_LEFT:a9,DIRECTION_RIGHT:aA,DIRECTION_UP:an,DIRECTION_DOWN:cn,DIRECTION_HORIZONTAL:b9,DIRECTION_VERTICAL:bV,DIRECTION_ALL:bi,Manager:a0,Input:aH,TouchAction:bo,TouchInput:bv,MouseInput:bA,PointerEventInput:bz,TouchMouseInput:bs,SingleTouchInput:by,Recognizer:bl,AttrRecognizer:bZ,Tap:b1,Pan:bw,Swipe:cg,Pinch:aT,Rotate:ah,Press:au,on:aU,off:aS,each:a3,merge:bU,extend:b8,assign:cj,inherit:aZ,bindFn:aY,prefixed:aK});var ao="undefined"!=typeof be?be:"undefined"!=typeof self?self:{};ao.Hammer=bE,"function"==typeof define&&define.amd?define(function(){return bE}):"undefined"!=typeof module&&module.exports?module.exports=bE:be[bc]=bE}(window,document,"Hammer");jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a
}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});jQuery.fn.shuffle=function(){for(var b,a,c=this.length;c;b=Math.floor(Math.random()*c),a=this[--c],this[c]=this[b],this[b]=a){}return this};if(!window.Symbol){(function(c){var a=Object.defineProperty;var d="__symbol-"+Math.ceil(Math.random()*1000000000)+"-";var f=0;function b(g){if(!(this instanceof b)){return new b(g)}var h=d+f++;this._symbol=h}a(b.prototype,"toString",{enumerable:false,configurable:false,writable:false,value:function e(){return this._symbol}});c.Symbol=b}(this))}(function(){if(typeof window.CustomEvent==="function"){return false}function a(c,d){d=d||{bubbles:false,cancelable:false,detail:undefined};var b=document.createEvent("CustomEvent");b.initCustomEvent(c,d.bubbles,d.cancelable,d.detail);return b}a.prototype=window.Event.prototype;window.CustomEvent=a})();(function(a){if(typeof define==="function"&&define.amd){define([],a)}else{if((typeof module!=="undefined"&&module!==null)&&module.exports){module.exports=a}else{a()}}})(function(){var O=Object.assign||window.jQuery&&jQuery.extend;var e=8;var E=(function(){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(U,T){return window.setTimeout(function(){U()},25)})})();var j={textarea:true,input:true,select:true,button:true};var l={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"};var g={move:"touchmove",cancel:"touchend",end:"touchend"};var i=/\s+/;var n={bubbles:true,cancelable:true};var Q=Symbol("events");function G(T){return new CustomEvent(T,n)}function f(T){return T[Q]||(T[Q]={})}function A(T,Y,aa,W,V){Y=Y.split(i);var ac=f(T);var X=Y.length;var U,Z;function ab(ad){aa(ad,W)}while(X--){Z=Y[X];U=ac[Z]||(ac[Z]=[]);U.push([aa,ab]);T.addEventListener(Z,ab)}}function M(T,Y,aa,V){Y=Y.split(i);var ab=f(T);var X=Y.length;var Z,U,W;if(!ab){return}while(X--){Z=Y[X];U=ab[Z];if(!U){continue}W=U.length;while(W--){if(U[W][0]===aa){T.removeEventListener(Z,U[W][1]);U.splice(W,1)}}}}function z(W,U,T){var V=G(U);if(T){O(V,T)}W.dispatchEvent(V)}function q(V){var X=V,W=false,T=false;function U(Y){if(W){X();E(U);T=true;W=false}else{T=false}}this.kick=function(Y){W=true;if(!T){U()}};this.end=function(Z){var Y=X;if(!Z){return}if(!T){Z()}else{X=W?function(){Y();Z()}:Z;W=true}}}function P(){}function D(T){T.preventDefault()}function m(T){if(T.target.tagName){return !!j[T.target.tagName.toLowerCase()]}}function w(T){return(T.which===1&&!T.ctrlKey&&!T.altKey)}function N(V,W){var U,T;if(V.identifiedTouch){return V.identifiedTouch(W)}U=-1;T=V.length;while(++U<T){if(V[U].identifier===W){return V[U]}}}function p(U,T){var V=N(U.changedTouches,T.identifier);if(!V){return}if(V.pageX===T.pageX&&V.pageY===T.pageY){return}return V}function r(T){if(!w(T)){return}if(m(T)){return}A(document,l.move,v,T);A(document,l.cancel,y,T)}function v(U,T){u(U,T,U,B)}function y(U,T){B()}function B(){M(document,l.move,v);M(document,l.cancel,y)}function S(U){if(j[U.target.tagName.toLowerCase()]){return}var V=U.changedTouches[0];var T={target:V.target,pageX:V.pageX,pageY:V.pageY,identifier:V.identifier,touchmove:function(X,W){s(X,W)},touchend:function(X,W){I(X,W)}};A(document,g.move,T.touchmove,T);A(document,g.cancel,T.touchend,T)}function s(U,T){var V=p(U,T);if(!V){return}u(U,T,V,R)}function I(U,T){var V=N(U.changedTouches,T.identifier);if(!V){return}R(T)}function R(T){M(document,g.move,T.touchmove);M(document,g.cancel,T.touchend)}function u(X,W,Y,V){var U=Y.pageX-W.pageX;var T=Y.pageY-W.pageY;if((U*U)+(T*T)<(e*e)){return}t(X,W,Y,U,T,V)}function t(X,V,U,aa,Y,Z){var W=X.targetTouches;var T=X.timeStamp-V.timeStamp;var ab={altKey:X.altKey,ctrlKey:X.ctrlKey,shiftKey:X.shiftKey,startX:V.pageX,startY:V.pageY,distX:aa,distY:Y,deltaX:aa,deltaY:Y,pageX:U.pageX,pageY:U.pageY,velocityX:aa/T,velocityY:Y/T,identifier:V.identifier,targetTouches:W,finger:W?W.length:1,enableMove:function(){this.moveEnabled=true;this.enableMove=P;X.preventDefault()}};z(V.target,"movestart",ab);Z(V)}function L(U,T){var V=T.timer;T.touch=U;T.timeStamp=U.timeStamp;V.kick()}function d(W,U){var V=U.target;var T=U.event;var X=U.timer;c();x(V,T,X,function(){setTimeout(function(){M(V,"click",D)},0)})}function c(){M(document,l.move,L);M(document,l.end,d)}function C(V,U){var T=U.event;var X=U.timer;var W=p(V,T);if(!W){return}V.preventDefault();T.targetTouches=V.targetTouches;U.touch=W;U.timeStamp=V.timeStamp;X.kick()}function k(W,U){var V=U.target;var T=U.event;var Y=U.timer;var X=N(W.changedTouches,T.identifier);if(!X){return}o(U);x(V,T,Y)}function o(T){M(document,g.move,T.activeTouchmove);M(document,g.end,T.activeTouchend)}function K(U,W,T){var V=T-U.timeStamp;U.distX=W.pageX-U.startX;U.distY=W.pageY-U.startY;U.deltaX=W.pageX-U.pageX;
U.deltaY=W.pageY-U.pageY;U.velocityX=0.3*U.velocityX+0.7*U.deltaX/V;U.velocityY=0.3*U.velocityY+0.7*U.deltaY/V;U.pageX=W.pageX;U.pageY=W.pageY}function x(V,U,W,T){W.end(function(){z(V,"moveend",U);return T&&T()})}function b(V){if(V.defaultPrevented){return}if(!V.moveEnabled){return}var T={startX:V.startX,startY:V.startY,pageX:V.pageX,pageY:V.pageY,distX:V.distX,distY:V.distY,deltaX:V.deltaX,deltaY:V.deltaY,velocityX:V.velocityX,velocityY:V.velocityY,identifier:V.identifier,targetTouches:V.targetTouches,finger:V.finger};var U={target:V.target,event:T,timer:new q(W),touch:undefined,timeStamp:V.timeStamp};function W(X){K(T,U.touch,U.timeStamp);z(U.target,"move",T)}if(V.identifier===undefined){A(V.target,"click",D);A(document,l.move,L,U);A(document,l.end,d,U)}else{U.activeTouchmove=function(Y,X){C(Y,X)};U.activeTouchend=function(Y,X){k(Y,X)};A(document,g.move,U.activeTouchmove,U);A(document,g.end,U.activeTouchend,U)}}A(document,"mousedown",r);A(document,"touchstart",S);A(document,"movestart",b);if(!window.jQuery){return}var a=("startX startY pageX pageY distX distY deltaX deltaY velocityX velocityY").split(" ");function J(T){T.enableMove()}function H(T){T.enableMove()}function F(T){T.enableMove()}function h(T){var U=T.handler;T.handler=function(X){var V=a.length;var W;while(V--){W=a[V];X[W]=X.originalEvent[W]}U.apply(this,arguments)}}jQuery.event.special.movestart={setup:function(){A(this,"movestart",J);return false},teardown:function(){M(this,"movestart",J);return false},add:h};jQuery.event.special.move={setup:function(){A(this,"movestart",H);return false},teardown:function(){M(this,"movestart",H);return false},add:h};jQuery.event.special.moveend={setup:function(){A(this,"movestart",F);return false},teardown:function(){M(this,"movestart",F);return false},add:h}});(function(a){a.fn.twentytwenty=function(b){var b=a.extend({default_offset_pct:0.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:false,animate:false,animateSteps:[0,0.5],animationDuration:0.5},b);return this.each(function(){var t=b.default_offset_pct;var i=a(this);var d=b.orientation;var l=(d==="vertical")?"down":"left";var f=(d==="vertical")?"up":"right";var c=false;var h=false;i.wrap("<div class='twentytwenty-wrapper twentytwenty-"+d+"'></div>");if(!b.no_overlay){i.append("<div class='twentytwenty-overlay'></div>")}var m=i.find("img:first");var k=i.find("img:last");i.append("<div class='twentytwenty-handle'></div>");var j=i.find(".twentytwenty-handle");j.append("<span class='twentytwenty-"+l+"-arrow'></span>");j.append("<span class='twentytwenty-"+f+"-arrow'></span>");i.addClass("twentytwenty-container");m.addClass("twentytwenty-before");k.addClass("twentytwenty-after");var q=i.find(".twentytwenty-overlay");q.append("<div class='twentytwenty-before-label' data-content='"+b.before_label+"'></div>");q.append("<div class='twentytwenty-after-label' data-content='"+b.after_label+"'></div>");var s=function(v){var u=m.width();var x=m.height();return{w:u+"px",h:x+"px",cw:(v*u)+"px",ch:(v*x)+"px"}};var n=function(u){if(d==="vertical"){m.css("clip","rect(0,"+u.w+","+u.ch+",0)");k.css("clip","rect("+u.ch+","+u.w+","+u.h+",0)")}else{m.css("clip","rect(0,"+u.cw+","+u.h+",0)");k.css("clip","rect(0,"+u.w+","+u.h+","+u.cw+")")}i.css("height",u.h)};var e=function(u){var v=s(u);j.css((d==="vertical")?"top":"left",(d==="vertical")?v.ch:v.cw);n(v)};a(window).on("resize.twentytwenty",function(u){e(t)});if(b.animate){a(window).on("load scroll",function(x){if(jQuery(j).isInViewport()&&!c&&!h){var v=0;var w=b.animateSteps;h=true;j.css({"transition":"all "+b.animationDuration+"s ease-in-out"});m.css({"transition":"all "+b.animationDuration+"s ease-in-out"});k.css({"transition":"all "+b.animationDuration+"s ease-in-out"});var u=setInterval(function(){if(v<w.length){e(w[v]);v++}else{clearInterval(u);c=true;h=true;j.css({"transition":""});m.css({"transition":""});k.css({"transition":""})}},(b.animationDuration*1000))}})}var r=0;var p=0;var g=0;var o=0;j.on("movestart",function(u){if(((u.distX>u.distY&&u.distX<-u.distY)||(u.distX<u.distY&&u.distX>-u.distY))&&d!=="vertical"){u.preventDefault()}else{if(((u.distX<u.distY&&u.distX<-u.distY)||(u.distX>u.distY&&u.distX>-u.distY))&&d==="vertical"){u.preventDefault()}}i.addClass("active");r=i.offset().left;p=i.offset().top;g=m.width();o=m.height()});j.on("moveend",function(u){i.removeClass("active")});j.on("move",function(u){if(i.hasClass("active")){t=(d==="vertical")?(u.pageY-p)/o:(u.pageX-r)/g;if(t<0){t=0}if(t>1){t=1}e(t)}});i.find("img").on("mousedown",function(u){u.preventDefault()});a(window).trigger("resize.twentytwenty")})}})(jQuery);!function(G,A){function m(h,p,u){var o=h.children(),f=!1;h.empty();for(var g=0,s=o.length;g<s;g++){var c=o.eq(g);if(h.append(c),u&&h.append(u),k(h,p)){c.remove(),f=!0;break}u&&u.detach()}return f}function b(o,t,g,p,a){var h=!1,r="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",f="script, .dotdotdot-keep";
return o.contents().detach().each(function(){var c=this,d=G(c);if("undefined"==typeof c){return !0}if(d.is(f)){o.append(d)}else{if(h){return !0}o.append(d),!a||d.is(p.after)||d.find(p.after).length||o[o.is(r)?"after":"append"](a),k(g,p)&&(h=3==c.nodeType?D(d,t,g,p,a):b(d,t,g,p,a)),h||a&&a.detach()}}),t.addClass("is-truncated"),h}function D(P,K,I,U,Q){var R=P[0];if(!R){return !1}var M=H(R),O=M.indexOf(" ")!==-1?" ":"　",J="letter"==U.wrap?"":O,N=M.split(J),t=-1,s=-1,L=0,S=N.length-1;if(U.fallbackToLetter&&0===L&&0===S&&(J="",N=M.split(J),S=N.length-1),U.maxLength){M=w(M.trim().substr(0,U.maxLength),U),q(R,M)}else{for(;L<=S&&(0!==L||0!==S);){var l=Math.floor((L+S)/2);if(l==s){break}s=l,q(R,N.slice(0,s+1).join(J)+U.ellipsis),I.children().each(function(){G(this).toggle().toggle()}),k(I,U)?(S=s,U.fallbackToLetter&&0===L&&0===S&&(J="",N=N[0].split(J),t=-1,s=-1,L=0,S=N.length-1)):(t=s,L=s)}if(t==-1||1===N.length&&0===N[0].length){var o=P.parent();P.detach();var u=Q&&Q.closest(o).length?Q.length:0;if(o.contents().length>u?R=F(o.contents().eq(-1-u),K):(R=F(o,K,!0),u||o.detach()),R&&(M=w(H(R),U),q(R,M),u&&Q)){var i=Q.parent();G(R).parent().append(Q),G.trim(i.html())||i.remove()}}else{M=w(N.slice(0,t+1).join(J),U),q(R,M)}}return !0}function k(a,c){return a.innerHeight()>c.maxHeight||c.maxLength&&a.text().trim().length>c.maxLength}function w(a,c){for(;G.inArray(a.slice(-1),c.lastCharacter.remove)>-1;){a=a.slice(0,-1)}return G.inArray(a.slice(-1),c.lastCharacter.noEllipsis)<0&&(a+=c.ellipsis),a}function B(a){return{width:a.innerWidth(),height:a.innerHeight()}}function q(a,c){a.innerText?a.innerText=c:a.nodeValue?a.nodeValue=c:a.textContent&&(a.textContent=c)}function H(a){return a.innerText?a.innerText:a.nodeValue?a.nodeValue:a.textContent?a.textContent:""}function C(a){do{a=a.previousSibling}while(a&&1!==a.nodeType&&3!==a.nodeType);return a}function F(f,h,d){var c,g=f&&f[0];if(g){if(!d){if(3===g.nodeType){return g}if(G.trim(f.text())){return F(f.contents().last(),h)}}for(c=C(g);!c;){if(f=f.parent(),f.is(h)||!f.length){return !1}c=C(f[0])}if(c){return F(G(c),h)}}return !1}function x(a,c){return !!a&&("string"==typeof a?(a=G(a,c),!!a.length&&a):!!a.jquery&&a)}function z(d){for(var g=d.innerHeight(),i=["paddingTop","paddingBottom"],f=0,c=i.length;f<c;f++){var h=parseInt(d.css(i[f]),10);isNaN(h)&&(h=0),g-=h}return g}if(!G.fn.dotdotdot){G.fn.dotdotdot=function(r){if(0===this.length){return G.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this}if(this.length>1){return this.each(function(){G(this).dotdotdot(r)})}var f=this,n=f.contents();f.data("dotdotdot")&&f.trigger("destroy.dot"),f.data("dotdotdot-style",f.attr("style")||""),f.css("word-wrap","break-word"),"nowrap"===f.css("white-space")&&f.css("white-space","normal"),f.bind_events=function(){return f.bind("update.dot",function(g,i){switch(f.removeClass("is-truncated"),g.preventDefault(),g.stopPropagation(),typeof d.height){case"number":d.maxHeight=d.height;break;case"function":d.maxHeight=d.height.call(f[0]);break;default:d.maxHeight=z(f)}d.maxHeight+=d.tolerance,"undefined"!=typeof i&&(("string"==typeof i||"nodeType" in i&&1===i.nodeType)&&(i=G("<div />").append(i).contents()),i instanceof G&&(n=i)),p=f.wrapInner('<div class="dotdotdot" />').children(),p.contents().detach().end().append(n.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var l=!1,a=!1;return o.afterElement&&(l=o.afterElement.clone(!0),l.show(),o.afterElement.detach()),k(p,d)&&(a="children"==d.wrap?m(p,d,l):b(p,f,p,d,l)),p.replaceWith(p.contents()),p=null,G.isFunction(d.callback)&&d.callback.call(f[0],a,n),o.isTruncated=a,a}).bind("isTruncated.dot",function(a,c){return a.preventDefault(),a.stopPropagation(),"function"==typeof c&&c.call(f[0],o.isTruncated),o.isTruncated}).bind("originalContent.dot",function(a,c){return a.preventDefault(),a.stopPropagation(),"function"==typeof c&&c.call(f[0],n),n}).bind("destroy.dot",function(a){a.preventDefault(),a.stopPropagation(),f.unwatch().unbind_events().contents().detach().end().append(n).attr("style",f.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)}),f},f.unbind_events=function(){return f.unbind(".dot"),f},f.watch=function(){if(f.unwatch(),"window"==d.watch){var c=G(window),g=c.width(),a=c.height();c.bind("resize.dot"+o.dotId,function(){g==c.width()&&a==c.height()&&d.windowResizeFix||(g=c.width(),a=c.height(),h&&clearInterval(h),h=setTimeout(function(){f.trigger("update.dot")},100))})}else{t=B(f),h=setInterval(function(){if(f.is(":visible")){var e=B(f);t.width==e.width&&t.height==e.height||(f.trigger("update.dot"),t=e)}},500)}return f},f.unwatch=function(){return G(window).unbind("resize.dot"+o.dotId),h&&clearInterval(h),f};var d=G.extend(!0,{},G.fn.dotdotdot.defaults,r),o={},t={},h=null,p=null;return d.lastCharacter.remove instanceof Array||(d.lastCharacter.remove=G.fn.dotdotdot.defaultArrays.lastCharacter.remove),d.lastCharacter.noEllipsis instanceof Array||(d.lastCharacter.noEllipsis=G.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),o.afterElement=x(d.after,f),o.isTruncated=!1,o.dotId=j++,f.data("dotdotdot",!0).bind_events().trigger("update.dot"),d.watch&&f.watch(),f
},G.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0,maxLength:null},G.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},G.fn.dotdotdot.debug=function(a){};var j=1,y=G.fn.html;G.fn.html=function(a){return a!=A&&!G.isFunction(a)&&this.data("dotdotdot")?this.trigger("update",[a]):y.apply(this,arguments)};var E=G.fn.text;G.fn.text=function(a){return a!=A&&!G.isFunction(a)&&this.data("dotdotdot")?(a=G("<div />").text(a).html(),this.trigger("update",[a])):E.apply(this,arguments)}}}(jQuery),jQuery(document).ready(function(a){a(".dot-ellipsis").each(function(){var d=a(this).hasClass("dot-resize-update"),g=a(this).hasClass("dot-timer-update"),c=0,b=a(this).attr("class").split(/\s+/);a.each(b,function(h,i){var j=i.match(/^dot-height-(\d+)$/);null!==j&&(c=Number(j[1]))});var f={};g&&(f.watch=!0),d&&(f.watch="window"),c>0&&(f.height=c),a(this).dotdotdot(f)})}),jQuery(window).on("load",function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")});
/*! Copyright 2012, Ben Lin (http://dreamerslab.com/)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 1.0.16
 *
 * Requires: jQuery >= 1.2.3
 */
(function(b){b.fn.addBack=b.fn.addBack||b.fn.andSelf;b.fn.extend({actual:function(v,a){if(!this[v]){throw'$.actual => The jQuery method "'+v+'" you called does not exist'}var r={absolute:false,clone:false,includeMargin:false};var o=b.extend(r,a);var s=this.eq(0);var p,n;if(o.clone===true){p=function(){var c="position: absolute !important; top: -1000 !important; ";s=s.clone().attr("style",c).appendTo("body")};n=function(){s.remove()}}else{var q=[];var t="";var u;p=function(){u=s.parents().addBack().filter(":hidden");t+="visibility: hidden !important; display: block !important; ";if(o.absolute===true){t+="position: absolute !important; "}u.each(function(){var c=b(this);var d=c.attr("style");q.push(d);c.attr("style",d?d+";"+t:t)})};n=function(){u.each(function(c){var d=b(this);var e=q[c];if(e===undefined){d.removeAttr("style")}else{d.attr("style",e)}})}}p();var m=/(outer)/.test(v)?s[v](o.includeMargin):s[v]();n();return m}})})(jQuery);
/*! SlotMachine - v3.0.1 - 2016-03-03
 * https://github.com/josex2r/jQuery-SlotMachine
 * Copyright (c) 2016 Jose Luis Represa; Licensed MIT */
"use strict";function _classCallCheck(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}var _createClass=function(){function b(f,e){for(var h=0;h<e.length;h++){var g=e[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(a,f,e){return f&&b(a.prototype,f),e&&b(a,e),a}}();!function(F,E,D,C){function B(a,f){var e=void 0;return F.data(a[0],"plugin_"+A)?e=F.data(a[0],"plugin_"+A):(e=new q(a,f),F.data(a[0],"plugin_"+A,e)),e}var A="slotMachine",z={active:0,delay:200,auto:!1,spins:5,randomize:null,complete:null,stopHidden:!0,direction:"up"},y="slotMachineNoTransition",x="slotMachineBlurFast",w="slotMachineBlurMedium",v="slotMachineBlurSlow",u="slotMachineBlurTurtle",t="slotMachineGradient",s=t,r=function(){function b(a,d){return _classCallCheck(this,b),this.cb=a,this.initialDelay=d,this.delay=d,this.deferred=jQuery.Deferred(),this.startTime=null,this.timer=null,this.running=!1,this.resume(),this}return _createClass(b,[{key:"_start",value:function(){this.timer=setTimeout(function(){this.cb.call(this)}.bind(this),this.delay)}},{key:"cancel",value:function(){this.running=!1,clearTimeout(this.timer)}},{key:"pause",value:function(){this.running&&(this.delay-=(new Date).getTime()-this.startTime,this.cancel())}},{key:"resume",value:function(){this.running||(this.running=!0,this.startTime=(new Date).getTime(),this._start())}},{key:"reset",value:function(){this.cancel(),this.delay=this.initialDelay,this._start()}},{key:"add",value:function(c){this.pause(),this.delay+=c,this.resume()}}]),b}(),q=function(){function a(c,e){_classCallCheck(this,a),this.element=c,this.settings=F.extend({},z,e),this.defaults=z,this.name=A,this.$slot=F(c),this.$tiles=this.$slot.children(),this.$container=null,this._minTop=null,this._maxTop=null,this._$fakeFirstTile=null,this._$fakeLastTile=null,this._timer=null,this._spinsLeft=null,this.futureActive=null,this.running=!1,this.stopping=!1,this.active=this.settings.active,this.$slot.css("overflow","hidden"),this.$container=this.$tiles.wrapAll('<div class="slotMachineContainer" />').parent(),this.$container.css("transition","1s ease-in-out"),this._maxTop=-this.$container.height(),this._initFakeTiles(),this._minTop=-this._$fakeFirstTile.outerHeight(),this._initDirection(),this.resetPosition(),this.settings.auto!==!1&&(this.settings.auto===!0?this.shuffle():this.auto())}return _createClass(a,[{key:"_initFakeTiles",value:function(){this._$fakeFirstTile=this.$tiles.last().clone(),this._$fakeLastTile=this.$tiles.first().clone(),this.$container.prepend(this._$fakeFirstTile),this.$container.append(this._$fakeLastTile)
}},{key:"_initDirection",value:function(){this._direction={selected:"down"===this.settings.direction?"down":"up",up:{key:"up",initial:this.getTileOffset(this.active),first:0,last:this.getTileOffset(this.$tiles.length),to:this._maxTop,firstToLast:this.getTileOffset(this.$tiles.length),lastToFirst:0},down:{key:"down",initial:this.getTileOffset(this.active),first:this.getTileOffset(this.$tiles.length),last:0,to:this._minTop,firstToLast:this.getTileOffset(this.$tiles.length),lastToFirst:0}}}},{key:"_changeTransition",value:function(){var d=this._delay||this.settings.delay,c=this._transition||this.settings.transition;this.$container.css("transition",d+"s "+c)}},{key:"_animate",value:function(b){this.$container.css("transform","matrix(1, 0, 0, 1, 0, "+b+")")}},{key:"_isGoingBackward",value:function(){return this.futureActive>this.active&&0===this.active&&this.futureActive===this.$tiles.length-1}},{key:"_isGoingForward",value:function(){return this.futureActive<=this.active&&this.active===this.$tiles.length-1&&0===this.futureActive}},{key:"raf",value:function(b,l){var k=E.requestAnimationFrame||E.mozRequestAnimationFrame||E.webkitRequestAnimationFrame||E.msRequestAnimationFrame,j=(new Date).getTime(),i=function h(){var c=(new Date).getTime(),d=c-j;l>d?k(h):"function"==typeof b&&b()};k(i)}},{key:"getTileOffset",value:function(e){for(var d=0,f=0;e>f;f++){d+=this.$tiles.eq(f).outerHeight()}return this._minTop-d}},{key:"resetPosition",value:function(b){this.$container.toggleClass(y),this._animate(b===C?this.direction.initial:b),this.$container[0].offsetHeight,this.$container.toggleClass(y)}},{key:"setRandomize",value:function(b){this.settings.randomize=b,"number"==typeof b&&(this.settings.randomize=function(){return b})}},{key:"prev",value:function(){return this.futureActive=this.prevIndex,this.running=!0,this.stop(),this.futureActive}},{key:"next",value:function(){return this.futureActive=this.nextIndex,this.running=!0,this.stop(),this.futureActive}},{key:"getDelayFromSpins",value:function(d){var c=this.settings.delay;switch(this._transition="linear",d){case 1:c/=0.5,this._transition="ease-out",this._animationFX=2;break;case 2:c/=0.75,this._animationFX=v;break;case 3:c/=1,this._animationFX=w;break;case 4:c/=1.25,this._animationFX=w;break;default:c/=1.5,this._animationFX=x}return c}},{key:"shuffle",value:function(f,e){var h=this;if("function"==typeof f&&(e=f),this.running=!0,this.visible||this.settings.stopHidden!==!0){var g=this.getDelayFromSpins(f);this.delay=g,this._animate(this.direction.to),this.raf(function(){if(!h.stopping&&h.running){var b=f-1;h.resetPosition(h.direction.first),1>=b?h.stop(e):h.shuffle(b,e)}},g)}else{this.stop(e)}return this.futureActive}},{key:"stop",value:function(e){var d=this;if(!this.running||this.stopping){return this.futureActive}this.running=!0,this.stopping=!0,null===this.futureActive&&(this.futureActive=this.custom),this._isGoingBackward()?this.resetPosition(this.direction.firstToLast):this._isGoingForward()&&this.resetPosition(this.direction.lastToFirst),this.active=this.futureActive;var f=this.getDelayFromSpins(1);return this.delay=f,this._animationFX=s,this._animate(this.getTileOffset(this.active)),this.raf(function(){d.stopping=!1,d.running=!1,d.futureActive=null,"function"==typeof d.settings.complete&&d.settings.complete.apply(d,[d.active]),"function"==typeof e&&e.apply(d,[d.active])},f),this.active}},{key:"auto",value:function(){var b=this;this.running||(this._timer=new r(function(){"function"!=typeof b.settings.randomize&&(b.settings.randomize=function(){return b._nextIndex}),b.visible||b.settings.stopHidden!==!0?b.shuffle(b.settings.spins,b._timer.reset.bind(b._timer)):b.raf(b._timer.reset.bind(b._timer),500)},this.settings.auto))}},{key:"destroy",value:function(){this._$fakeFirstTile.remove(),this._$fakeLastTile.remove(),this.$tiles.unwrap(),F.data(this.element[0],"plugin_"+A,null)}},{key:"active",get:function(){return this._active},set:function(b){this._active=b,(0>b||b>=this.$tiles.length)&&(this._active=0)}},{key:"visibleTile",get:function(){var f=this.$tiles.first().height(),e=this.$container.css("transform"),h=/^matrix\(-?\d+,\s?-?\d+,\s?-?\d+,\s?-?\d+,\s?-?\d+,\s?(-?\d+)\)$/,g=parseInt(e.replace(h,"$1"),10);return Math.abs(Math.round(g/f))-1}},{key:"random",get:function(){return Math.floor(Math.random()*this.$tiles.length)}},{key:"custom",get:function(){var d=void 0;if("function"==typeof this.settings.randomize){var c=this.settings.randomize.call(this,this.active);(0>c||c>=this.$tiles.length)&&(c=0),d=c}else{d=this.random}return d}},{key:"direction",get:function(){return this._direction[this._direction.selected]},set:function(b){this.running||(this.direction="down"===b?"down":"up")}},{key:"_prevIndex",get:function(){var b=this.active-1;return 0>b?this.$tiles.length-1:b}},{key:"_nextIndex",get:function(){var b=this.active+1;return b<this.$tiles.length?b:0}},{key:"prevIndex",get:function(){return"up"===this.direction?this._nextIndex:this._prevIndex}},{key:"nextIndex",get:function(){return"up"===this.direction?this._prevIndex:this._nextIndex
}},{key:"visible",get:function(){var g=F(E),f=this.$slot.offset().top>g.scrollTop()+g.height(),b=g.scrollTop()>this.$slot.height()+this.$slot.offset().top;return !f&&!b}},{key:"_fxClass",set:function(d){var c=[x,w,v,u].join(" ");this.$tiles.add(this._$fakeFirstTile).add(this._$fakeLastTile).removeClass(c).addClass(d)}},{key:"_animationFX",set:function(e){var d=this.settings.delay/4,f=this.$slot.add(this.$tiles).add(this._$fakeFirstTile).add(this._$fakeLastTile);this.raf(function(){this._fxClass=e,e===s?f.removeClass(t):f.addClass(t)}.bind(this),d)}},{key:"delay",set:function(b){b/=1000,this._delay=b,this._changeTransition()}},{key:"transition",set:function(b){b=b||"ease-in-out",this._transition=b,this._changeTransition()}}]),a}();F.fn[A]=function(a){var f=this,e=void 0;return 1===this.length?e=B(this,a):!function(){var b=f;e=F.map(b,function(g,i){var h=b.eq(i);return B(h,a)})}(),e}}(jQuery,window,document);var AvBasics=AvBasics||{};AvBasics.Util={};AvBasics.Util.Cookie=(function(){var c=function(f){var g=document.cookie.split(";");for(var e=0;e<g.length;e++){var d=g[e].split("=");if(d[0].match(f)){return d[1]}}return null};var a=function(f){var g=document.cookie.split(";");for(var e=0;e<g.length;e++){var d=g[e].split("=");if(d[0].match(f)){return true}}return false};var b=function(g,h,e){if(typeof(e)!="undefined"){var d=new Date();var f=d.getTime()+(e*24*60*60*1000);d.setTime(f);document.cookie=g+"="+h+"; expires="+d.toGMTString()+"; path=/"}else{document.cookie=g+"="+h+"; path=/"}};return{get:c,has:a,set:b}})();Modernizr.addTest("is-chrome",function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)});Modernizr.addTest("is-safari",function(){var a=navigator.userAgent.toLowerCase();return(a.indexOf("safari")!=-1)&&(a.indexOf("chrome")==-1)});Modernizr.addTest("is-mobile-safari",function(){var a=navigator.userAgent.toLowerCase();return(a.indexOf("safari")!=-1)&&(a.indexOf("chrome")==-1)&&(a.match(/iPad/i)||a.match(/iPhone/i))});jQuery.fn.articleloader=function(b){var a=jQuery.extend(true,{},jQuery.fn.articleloader.defaults,b);return this.each(function(){var e=jQuery(this);var g=false;var f=function(h,i){h.on("click",function(){if(g){return}g=true;if(!i.onBefore(e,h,i)){return}jQuery.get(h.attr("href"),{},function(k){var j=jQuery(k);i.onSetNewContent(e,h,i,e.find(a.content),j.find(a.content).html());var l=j.find(i.trigger);if(l.length){h.attr("href",l.attr("href"))}i.onAfter(e,h,i,j);g=false});return false})};var d=e.find(a.prev.trigger);if(d.length>0){f(d,a.prev)}var c=e.find(a.next.trigger);if(c.length>0){f(c,a.next)}})};jQuery.fn.articleloader.defaults={content:"[data-articleloader-content]",prev:{trigger:".f3-widget-paginator .previous a",onBefore:function(b,a,c){a.hide();a.after('<div class="loadingindicator"></div>');return true},onSetNewContent:function(c,a,e,d,b){d.prepend(b);a.next(".loadingindicator").remove()},onAfter:function(c,b,d,a){if(a.find(d.trigger).length){b.show()}}},next:{trigger:".f3-widget-paginator .next a",onBefore:function(b,a,c){a.hide();a.after('<div class="loadingindicator"></div>');return true},onSetNewContent:function(c,a,e,d,b){d.append(b);a.next(".loadingindicator").remove()},onAfter:function(c,b,d,a){if(a.find(d.trigger).length){b.show()}}}};jQuery.fn.filterloader=function(b){var a=jQuery.extend(true,{},jQuery.fn.filterloader.defaults,b);return this.each(function(){if(!a.contentSelector){throw'filterloader: "missing contentSelector!"'}var d=(function(){var g=0;return function(i,h){clearTimeout(g);g=setTimeout(i,h)}})();var c=jQuery(this);var e=jQuery(a.contentSelector);if(a.stateSource){var f=c.find('input[type="checkbox"]');f.change(function(){d(function(){jQuery.post(a.stateSource,c.serialize(),function(j){f.prop("disabled",true);var i,h;for(var g in j){h=f.filter('[data-group="'+g+'"]');for(var k in j[g]){i=j[g][k].uid==undefined?j[g][k]:j[g][k].uid;h.filter('[value="'+i+'"]').prop("disabled",false)}}f.filter(":disabled").prop("checked",false)})},50)})}c.submit(function(){e.addClass("loading");var g=c.serialize();if(a.lockFiltersSelector.length){c.find(a.lockFiltersSelector).attr("disabled","disabled")}jQuery.post(c.attr("action"),g,function(j){var h=jQuery(j);var i=h.find(a.contentSelector);e.html(i);e.find(".load__on__scroll").trigger("loaded.load_on_scroll");e.removeClass("loading");if(a.lockFiltersSelector.length){c.find(a.lockFiltersSelector).removeAttr("disabled")}});return false})})};jQuery.fn.filterloader.defaults={contentSelector:false,optionsSource:false,lockFiltersSelector:false,};(function(c,b,a,d){MaximumFix=function(e){this._core=e;this.oldMaximum=this._core.maximum;this._core.maximum=this.maximumFix};MaximumFix.prototype.maximumFix=function(i){var f=this.settings,j=this._coordinates.length,e,h,g;if(f.loop){j=this._clones.length/2+this._items.length-1}else{if(!f.center&&(f.autoWidth||f.merge)){e=this._items.length;h=this._items[--e].width();g=this.$element.width();while(e--){h+=this._items[e].width()+this.settings.margin;if(h>g){break
}}j=e+1}else{if(f.center){j=this._items.length-1}else{if(f.linked&&f.items>1){j=this._items.length-1}else{j=this._items.length-f.items}}}}if(i){j-=this._clones.length/2}return Math.max(j,0)};MaximumFix.prototype.destroy=function(){this._core.maximum=this.oldMaximum};c.fn.owlCarousel.Constructor.Plugins["maximumFix"]=MaximumFix})(window.Zepto||window.jQuery,window,document);(function(c,b,a,d){MultiLazyLoad=function(e){this._core=e;this._handlers={"initialized.owl.carousel":c.proxy(function(f){if(f.namespace&&this._core.settings.lazyLoad&&this._core.settings.multiLazyLoadItems){this.multiLazyLoad()}},this),"changed.owl.carousel":c.proxy(function(f){if(f.namespace&&f.item.index&&this._core.settings.lazyLoad&&this._core.settings.multiLazyLoadItems){this.multiLazyLoad()}},this)};this._core.$element.on(this._handlers);this._core._options=c.extend(MultiLazyLoad.Defaults,this._core.options)};MultiLazyLoad.Defaults={multiLazyLoadItems:0};MultiLazyLoad.prototype.multiLazyLoad=function(){var f=this._core.current();for(var h=1;h<=this._core.settings.multiLazyLoadItems;h++){var e=this._core.normalize(f+h),g=this._core.normalize(f-h);this._core._plugins.lazy.load(e);this._core._plugins.lazy.load(g)}};MultiLazyLoad.prototype.destroy=function(){var e,f;for(e in this._handlers){this._core.$element.off(e,this._handlers[e])}for(f in Object.getOwnPropertyNames(this)){typeof this[f]!="function"&&(this[f]=null)}};c.fn.owlCarousel.Constructor.Plugins["multiLazyLoad"]=MultiLazyLoad})(window.Zepto||window.jQuery,window,document);(function(c,b,a,d){ResponsiveDrag=function(e){this._core=e;this._handlers={"resized.owl.carousel":c.proxy(function(f){if(f.namespace&&this._core.options.responsive){this.unregisterEventHandlers();this._core.registerEventHandlers()}},this)};this._core.$element.on(this._handlers)};ResponsiveDrag.prototype.unregisterEventHandlers=function(){this._core.$stage.off(c.support.transition.end+".owl.core");this._core.off(b,"resize",this._handlers.onThrottledResize);this._core.$element.removeClass(this._core.options.dragClass);this._core.$stage.off("mousedown.owl.core");this._core.$stage.off("dragstart.owl.core selectstart.owl.core");this._core.$stage.off("touchstart.owl.core");this._core.$stage.off("touchcancel.owl.core")};ResponsiveDrag.prototype.destroy=function(){var e,f;for(e in this._handlers){this._core.$element.off(e,this._handlers[e])}for(f in Object.getOwnPropertyNames(this)){typeof this[f]!="function"&&(this[f]=null)}};c.fn.owlCarousel.Constructor.Plugins["responsiveDrag"]=ResponsiveDrag})(window.Zepto||window.jQuery,window,document);jQuery.fn.multiselect=(function(a){var b={};jQuery().extend(b,a);return jQuery(this).each(function(){var c=jQuery(this);var d=c.find("form");var e=c.find("[data-filter]");var f=c.find("[data-filterdisablers]");var g=function(i){i.find('input:not([data-checked="1"])').each(function(){jQuery(this).prop("checked",false).trigger("change")});i.find('input[data-checked="1"]').each(function(){jQuery(this).prop("checked",true).trigger("change")});i.trigger("multiselect.filter.close")};var h=function(){e.each(function(){var j=jQuery(this).find("input:checked").length;if(j>0){jQuery(this).addClass("has-filters")}});e.each(function(){var m=jQuery(this);var j=m.find("[data-label]");var k=j.find(".label__placeholder");var l=function(){var n=m.find('input[type="checkbox"]:checked').length;if(n>0){k.text(n+" "+j.data("label-choosen"))}else{k.text(j.data("label"))}};m.on("multiselect.filter.close",l);m.find('input[type="checkbox"]').change(function(){l();m.addClass("unconfirmed")});l()});e.click(function(k){k.stopPropagation();var j=jQuery(this);if(j.hasClass("active")){return}jQuery(e.filter(".active").each(function(){g(jQuery(this))}));e.removeClass("active").removeClass("unconfirmed");j.addClass("active");j.find("[data-label]").click(function(l){if(j.hasClass("active")){l.stopPropagation();j.removeClass("active")}})});var i=function(){var j=e.find('input[type="checkbox"]');j.each(function(){var m=jQuery(this);var o=jQuery(this).is(":checked")&&jQuery(this).is(":enabled");var k=jQuery(this).attr("data-checked")==1;if(o){if(!k){jQuery(this).attr("data-checked",1);if(f.length>0){var l=jQuery("label[for='"+jQuery(this).attr("id")+"']").text();var n=jQuery('<a class="filterdisablers__disabler btn btn--sm btn--primary btn--icon btn--icon--cancel" href="#" data-for="'+jQuery(this).attr("id")+'">'+l+"</a>");n.on("click",function(p){m.prop("checked",false).trigger("change");d.trigger("submit");jQuery(this).remove();p.preventDefault();return false});f.append(n);jQuery().initWavesJs()}}}else{if(k){jQuery(this).attr("data-checked",0);if(f.length>0){f.find('[data-for="'+jQuery(this).attr("id")+'"]').remove()}}}})};d.submit(function(){i();e.removeClass("active").removeClass("unconfirmed")});i();jQuery(window).click(function(){jQuery(e.filter(".active").each(function(){g(jQuery(this))}));e.removeClass("active").removeClass("unconfirmed")});c.addClass("initialized")};h()})});jQuery.fn.isInViewport=function(){var b=jQuery(this).offset().top;
var d=b+jQuery(this).outerHeight();var a=jQuery(window).scrollTop();var c=a+jQuery(window).height();return d>a&&b<c};jQuery.fn.header=function(){return this.each(function(){var t=jQuery(this);var j=t.find(".header__logo");var o=t.find(".header__navigation");var m=t.find(".header__subnavigation");var i=m.find(".subnavigation__wrapper");var b=t.find(".header__navcontrols");var l=b.find(".navcontrols__currentpage");var r=t.find(".header__claim");var a=t.find(".navcontrols__backbutton");var e=false,s=false,n=false;setTimeout(function(){t.removeClass("header--notransition")},500);function f(){m.css({"opacity":"0","transition":"opacity 0.4s ease-in-out"});setTimeout(function(){m.css({"opacity":"1","transition":"opacity 0s ease-in-out"})},400)}function p(){var v=false;if(i.length){v=jQuery(window).width()-i.outerWidth()-80}else{v=jQuery(window).width()-o.outerWidth()-80}var u=r.length?(r.outerWidth()+80):false;var x=l.length?(l.outerWidth()+80):false;var w=a.length?(a.outerWidth()):0;l.addClass("navcontrols__currentpage--visible");if(v&&x){if((v-w-x)<30){l.removeClass("navcontrols__currentpage--visible")}else{l.addClass("navcontrols__currentpage--visible")}}if(v&&u){if((v-u)<30){r.removeClass("header__claim--visible")}else{r.addClass("header__claim--visible")}}}var c=function(w){if(!e){return}var x=jQuery(w).find(".mCSB_container");var u=jQuery(w).offset().left+jQuery(w).width()+10;var v=x.offset().left+x.width();if(!x.css("left")||parseInt(x.css("left"),10)<0){i.addClass("subnavigation__wrapper--overflow-left")}else{i.removeClass("subnavigation__wrapper--overflow-left")}if(u<v){i.addClass("subnavigation__wrapper--overflow-right")}else{i.removeClass("subnavigation__wrapper--overflow-right")}};i.mCustomScrollbar({setWidth:"55%",setHeight:50,axis:"x",scrollbarPosition:"outside",autoHideScrollbar:false,scrollButtons:{enable:true,scrollAmount:30},mouseWheel:{enable:false},advanced:{contentTouchScroll:true,documentTouchScroll:true},onTotalScrollOffset:0,onTotalScrollBackOffset:0,callbacks:{onInit:function(){var u=this;jQuery(u).css({"display":"block","opacity":"0"});setTimeout(function(){c(u);e=true});setTimeout(function(){jQuery(u).css({"opacity":"1"})},500)},whileScrolling:function(){c(this)},onScroll:function(){if(window.innerWidth>=992&&n===false&&e){s=this.mcs.left}c(this)},onUpdate:function(){if(window.innerWidth<992&&e){return}if(n!==false){clearTimeout(n)}n=setTimeout(function(){i.mCustomScrollbar("scrollTo",s,{scrollInertia:0});n=false},250)}}});var k=jQuery(".subnavigation__scrollwrapper");if(k.length){var g=k.find("li.active").offset();var d=k.offset();if(g&&d){var q=g.left-d.left-k.innerWidth()+k.find("li.active").outerWidth(true)+15;if(q<0){q=0}i.mCustomScrollbar("scrollTo",q,{scrollInertia:0})}}function h(){if(!t.hasClass("header--mobile")&&jQuery(document).scrollTop()>15||jQuery("html").offset().top>15){if(!t.hasClass("header--sticky")){t.addClass("header--sticky");i.addClass("subnavigation__wrapper--animated");setTimeout(function(){i.removeClass("subnavigation__wrapper--animated")},500)}}else{t.removeClass("header--sticky");i.addClass("subnavigation__wrapper--animated");setTimeout(function(){i.removeClass("subnavigation__wrapper--animated")},500)}}jQuery(window).on("resize",function(){j.addClass("notransition--all");p();setTimeout(function(){j.removeClass("notransition--all")},500)});jQuery(window).scroll(function(){h();p()});jQuery(document).ready(function(){h();p()})})};jQuery("header.header").header("header");jQuery.fn.flyoutMenu=(function(a){var b={};var c;jQuery().extend(b,a);this.each(function(){jQuery(this).find("ul").first().menuAim({activate:function(f){jQuery(f).css({"position":"relative"});var e=jQuery(f).find(".flyout").first();var d=0;jQuery(f).addClass("navigation__entry--selected");e.addClass("flyout--visible");if(jQuery(".flyout--visible").length){d=500}window.clearTimeout(c);c=setTimeout(function(){jQuery(".flyout--level1").removeClass("flyout--notransition")},d);if(e.length){jQuery().flyout().showOverlay()}},deactivate:function(e){var d=jQuery(e).find(".flyout").first();jQuery(e).removeClass("navigation__entry--selected");d.removeClass("flyout--visible");jQuery(".flyout--level1").addClass("flyout--notransition");jQuery().flyout().hideOverlay()},exitMenu:function(){return true},submenuDirection:"below"});jQuery(this).addClass("flyoutmenu")})});jQuery.fn.flyout=(function(h){var f=jQuery(this);var b=null;var i={autoAssignLevels:true,layout:"equal",contentOverlay:true,dynamicDirection:true,defaultDirection:"right",navigationEntryClass:"",ignoredClass:"flyout--custom",selectedClass:"",currentClass:"",activeClass:"",animation:false};jQuery().extend(i,h);var c=function(){jQuery(".content__overlay--flyout").addClass("content__overlay--visible")};var a=function(){jQuery(".content__overlay--flyout").removeClass("content__overlay--visible")};var g=function(j){var k=jQuery(j);var n=k.find(".flyout--visible");var m=0;var l=k.css("height");k.css({height:""});m=k.outerHeight();k.css({height:l});n.each(function(){var o=jQuery(this).css("height");
jQuery(this).css({height:""});if(jQuery(this).outerHeight()>m){m=jQuery(this).outerHeight()}jQuery(this).css({"height":o})});k.css({"height":m,"transition":"height 0s ease-in-out 0.2s"});n.css({"height":m,"transition":"height 0s ease-in-out 0.2s"})};var d=function(l){var k=jQuery(l);var m=k.find(".flyout").first();var j=k.parents(".flyout").last();k.addClass("navigation__entry--selected");m.addClass("flyout--visible");if(i.layout==="equal"){g(j)}if(i.contentOverlay){c()}if(i.layout==="docked"){jQuery(".flyout--layered").removeClass("flyout--layered");m.addClass("flyout--layered")}};var e=function(l){var k=jQuery(l);var m=k.find(".flyout").first();var j=k.parents(".flyout").last();k.removeClass("navigation__entry--selected");m.removeClass("flyout--visible");a();if(i.layout==="equal"){g(j)}if(i.layout==="docked"){jQuery(".flyout--layered").removeClass("flyout--layered")}};this.each(function(){var j=jQuery(this);var o=function(){var p=false;j.addClass("flyout--level"+(j.parents(".flyout").length+1));if(i.autoAssignLevels){n()}if(i.contentOverlay){m()}if(i.dynamicDirection){if(jQuery(window).width()>990){l();p=true}else{jQuery(window).on("resize",function(){if(!p&&(jQuery(window).width()>990)){l();p=true}})}}if(i.layout==="equal"){if(!j.parents(".flyout").length){g()}j.find(".navigation__entry").hover(function(){g()})}if(i.animation){j.find(".flyout").addClass("flyout--sliding")}k()};var n=function(){var p;j.addClass("flyout flyout--level"+(j.parents(".flyout").length+1));j.find("ul").each(function(){jQuery(this).addClass("flyout flyout--level"+(jQuery(this).parents(".flyout").length+1))});if(i.navigationEntryClass){p=j.find("."+i.navigationEntryClass)}else{p=j.find("li")}p.addClass("navigation__entry");p.each(function(){if(jQuery(this).children("ul").length){jQuery(this).addClass("navigation__entry--node")}});if(i.layout==="docked"){j.find(".navigation__entry").css({"position":"relative"})}if(i.selectedClass){j.find("."+i.selectedClass).addClass("navigation__entry--selected")}if(i.activeClass){j.find("."+i.activeClass).addClass("navigation__entry--active")}if(i.currentClass){j.find("."+i.currentClass).addClass("navigation__entry--current")}};var m=function(){if(!jQuery(".content__overlay--flyout").length){jQuery("body").append('<div class="content__overlay content__overlay--flyout"></div>')}};var l=function(){var p=function(u){var s=jQuery(u);var v=s.parents(".flyout");s.css({"display":"block","width":"auto"});v.css({"display":"block","width":"auto"});var w=s.offset().left;var t=s.outerWidth(true);var r=w+t;if(r>jQuery(window).width()){s.addClass("flyout--left");if(s.parents(".flyout").length>0){s.css({left:"-35px",transform:"translate(-100%, 0%)",MozTransform:"translate(-100%, 0%)",WebkitTransform:"translate(-100%, 0%)",msTransform:"translate(-100%, 0%)"})}else{var q=jQuery(this).parent();s.css({left:q.outerWidth()+1,transform:"translate(-100%, 0%)",MozTransform:"translate(-100%, 0%)",WebkitTransform:"translate(-100%, 0%)",msTransform:"translate(-100%, 0%)"})}}s.css({"display":"","width":""});v.css({"display":"","width":""})};p(j);j.find(".flyout").each(function(){p(jQuery(this))});j.trigger("flyout:ready")};var k=function(){if(typeof j.menuAim!=="undefined"){var p=[];p.push(j);j.find(".flyout").each(function(){p.push(jQuery(this))});var q=function(r,u){var t=u?u:"right";var v=null;var s=null;jQuery(r).menuAim({activate:function(w){s=w;d(w)},deactivate:function(w){s=null;e(w)},exitMenu:function(){return true},submenuDirection:t})};jQuery(p).each(function(){if(jQuery(this).children("li").children(".flyout--left").length){q(this,"left")}else{q(this,"right")}})}else{console.log("ERROR: menuAim wurde nicht eingebunden! https://github.com/kamens/jQuery-menu-aim")}};if(!j.hasClass(i.ignoredClass)){o()}});return{showOverlay:c,hideOverlay:a}});jQuery(".header__navigation").flyoutMenu({layout:"docked",animation:true,contentOverlay:false});jQuery(".header__navigation > ul > li > .flyout").flyout({layout:"docked",animation:true,contentOverlay:false});jQuery.fn.mobileMenu=(function(a){var b={breaktpoint:990,currentClass:"navigation__entry--current"};jQuery().extend(b,a);return jQuery(this).each(function(){var o=jQuery("body");var g=jQuery(this);var f=jQuery("[data-toggle='mobilemenu']");var l=g.find("nav");var n=l.find("ul");var t=l.find("ul > li");var q=g.find(".mobilemenu__meta");var h=b.backbutton?g.find(b.backbutton):g.find(".mobilemenu__back");var c=b.currentClass?jQuery("."+b.currentClass):g.find(".navigation__entry--current");var p=false;var m=false;var j=function(y){var w=jQuery(this).find(".navigation__dropdowntoggle");if(y==="root"){w.removeClass("navigation__dropdowntoggle--open");jQuery(n[0]).addClass("navigation__level--visible");jQuery(n[0]).addClass("navigation__level--current")}else{if(y==="current"){c.parents(".navigation__level").addClass("navigation__level--visible");c.parents(".navigation__entry").addClass("navigation__entry--selected");c.parents(".navigation__level").first().addClass("navigation__level--current");
if(b.dropdownControls){c.parents(".navigation__level").siblings(".navigation__linkwrapper").find(".navigation__dropdowntoggle").addClass("navigation__dropdowntoggle--open")}else{c.parents(".navigation__level").siblings(".navigation__dropdowntoggle").addClass("navigation__dropdowntoggle--open")}}else{var v=jQuery(y.target);var x;var u;if(b.dropdownControls){u=v.parents(".navigation__entry").first().siblings(".navigation__entry");x=v.parents(".navigation__linkwrapper").first().siblings(".navigation__level")}else{u=v.parents(".navigation__entry").first().siblings(".navigation__entry");x=v.siblings(".navigation__level")}if(!b.expandMultipleLevels){u.removeClass("navigation__entry--selected");u.find(".navigation__level").removeClass("navigation__level--current");u.find(".navigation__level").removeClass("navigation__level--visible")}v.toggleClass("navigation__dropdowntoggle--open");x.toggleClass("navigation__level--current");x.toggleClass("navigation__level--visible")}}};var e=function(){var w=jQuery(".mobilemenu__breadcrumb");var u=jQuery(".navigation__level--metacurrent");var v=jQuery(".navigation__level--current");var x=p?u.siblings("a").html():v.siblings("a").html();if(x){w.html(x);w.addClass("mobilemenu__breadcrumb--back")}else{w.html("");w.removeClass("mobilemenu__breadcrumb--back")}};var i=function(){var u=jQuery(".navigation__level--metacurrent");var w=u.length?u:jQuery(".navigation__level--current");var y=w.parents(".navigation__entry").first();var z=0;var x=jQuery(".navigation__level--1");var v=0;if(x.length>0){v=x.offset().top}if(y&&y.offset()){z=y.offset().top;w.css({"top":(v-z)+"px"})}};var d=function(){var u=p?jQuery(".navigation__level--metacurrent"):jQuery(".navigation__level--current");if(u.length){if(u.offset().top>-100){l.css({"height":u.outerHeight()})}else{l.css({"height":u.outerHeight()+(jQuery(window).height()+u.offset().top)})}}};var s=function(C,v){if(!m){if(C==="root"){jQuery(n[0]).addClass("navigation__level--visible");jQuery(n[0]).addClass("navigation__level--current");h.hide();e()}else{if(C==="current"){var A=c.parents(".navigation__level");var y=A.length-1;A.addClass("navigation__level--visible");A.first().addClass("navigation__level--current");c.parents(".navigation__entry").addClass("navigation__entry--selected");l.addClass("transition--none");l.css({"left":-(g.width()*y)});setTimeout(function(){l.removeClass("transition--none")},500);if(A.length<=1){h.show()}d();e()}else{if(C==="left"){if(parseInt(l.css("left"),10)<=0){l.css({"left":parseInt(l.css("left"),10)-l.width()})}n.removeClass("navigation__level--current");if(jQuery(v.target).is("li")){jQuery(v.target).find(".navigation__level").first().addClass("navigation__level--visible");jQuery(v.target).find(".navigation__level").first().addClass("navigation__level--current")}else{jQuery(v.target).parents("li").first().find(".navigation__level").first().addClass("navigation__level--visible");jQuery(v.target).parents("li").first().find(".navigation__level").first().addClass("navigation__level--current")}var A=jQuery(".navigation__level--current").parents(".navigation__level");if(A.length>0){h.show()}m=true;setTimeout(function(){m=false},500);d();e()}else{if(C==="meta"){var w=jQuery(v.target);var B=w.attr("data-toggle")?w.attr("data-toggle"):w.parents("[data-toggle]").attr("data-toggle");var z=jQuery(B);if(parseInt(l.css("left"),10)<=0){var x=parseInt(l.css("left"),10)-l.width();l.css({"left":x});z.css({"left":-(x+l.width())});p=true}if(z.is("li")){z.find(".navigation__level").first().addClass("navigation__level--visible");z.find(".navigation__level").first().addClass("navigation__level--metacurrent")}else{z.parents("li").first().find(".navigation__level").first().addClass("navigation__level--visible");z.parents("li").first().find(".navigation__level").first().addClass("navigation__level--metacurrent")}d();e()}else{if(parseInt(l.css("left"),10)<=0){if(b.sliding){l.css({"left":parseInt(l.css("left"),10)+l.width()})}if(p){var D=jQuery(".navigation__level--metacurrent");D.removeClass("navigation__level--visible");D.removeClass("navigation__level--metacurrent");q.removeClass("mobilemenu__meta--hidden");p=false}else{var u=jQuery(".navigation__level--current");n.removeClass("navigation__level--current");u.removeClass("navigation__level--visible");u.parents(".navigation__level").first().addClass("navigation__level--current");var A=u.parents(".navigation__level");if(A.length<=0){h.hide()}}}m=true;setTimeout(function(){m=false},500);d();e()}}}}i()}};var k=function(){o.removeClass("mobilemenu--open");f.removeClass("is-active");g.removeClass("mobilemenu--visible");o.removeClass("mobilemenu--open")};var r=function(){var y=l.data("current-uid");var w=l.data("current-pid");var x=l.find('li[data-uid="'+y+'"]');if(x.length==0){x=l.find('li[data-uid="'+w+'"]')}if(x.length>0){if(b.activeClass){x.parents("li").addClass(b.activeClass)}if(b.closeToggle){x.addClass(b.currentClass)}}g.addClass("transition--none");l.addClass("mobilemenu__navigation");n.addClass("navigation__level");
if(b.menuToggle){f=jQuery(b.menuToggle)}if(b.activeClass){l.find("."+b.activeClass).addClass("navigation__entry--active")}if(b.currentClass){l.find("."+b.currentClass).addClass("navigation__entry--current")}if(b.closeToggle){jQuery(b.closeToggle).on("click",function(){k()})}n.each(function(){var A=jQuery(this);var z=A.parents(".navigation__level");A.addClass("navigation__level--"+(z.length+1))});if(b.width){g.css({"width":b.width,"min-width":b.minWidth});l.css({"width":b.width,"min-width":b.minWidth})}if(b.origin){g.addClass("mobilemenu--"+b.origin)}else{g.addClass("mobilemenu--left")}if(b.sliding){g.addClass("mobilemenu--sliding");jQuery('<div class="mobilemenu__breadcrumb mobilemenu__breadcrumb--back"><span></span></div>').insertBefore(l);if(b.backbutton){if(jQuery(b.backbutton).length){h=g.find(b.backbutton);h.text(b.backbuttonContent)}else{jQuery('<a class="mobilemenu__back">'+b.backbuttonContent+"</a>").insertBefore(l);h=g.find(".mobilemenu__back")}}}else{g.addClass("mobilemenu--folding")}if(b.push){o.addClass("mobilemenu--push")}else{o.addClass("mobilemenu--nopush")}if(b.contentOverlay){o.append('<div class="content__overlay content__overlay--mobilemenu"></div>');jQuery(".content__overlay--mobilemenu, .mobilemenu__attachments").on("click",function(){k()});jQuery(window).on("resize",function(){if(b.breakpoint){if(jQuery(window).width()>b.breakpoint){k()}}})}t.each(function(){var B=jQuery(this);B.addClass("navigation__entry");if(B.find(".navigation__level").length){B.addClass("navigation__entry--node");if(!b.sliding&&b.dropdownControls){var A=jQuery(this).find("a").first().wrap('<div class="navigation__linkwrapper"></div>');jQuery(this).find(".navigation__linkwrapper").first().append('<span class="navigation__dropdowntoggle"></span>')}else{var E=jQuery(this).find("a").first();var D=B.find("ul").first();var z=jQuery("["+b.overviewLinkAttribute+"]");var F=z.length?z.attr(b.overviewLinkAttribute):"Overview";var C="";if(B.hasClass(b.currentClass)){C+=b.currentClass+" navigation__entry--current";B.removeClass(b.currentClass)}D.prepend('<li class="navigation__entry navigation__entry--overview '+C+'">'+'<a href="'+E.attr("href")+'">'+"<span>"+F+"</span>"+"</a>"+"</li>");E.attr("href","#");c=jQuery("."+b.currentClass)}}});var v=g.find(".navigation__entry--node > a");if(!c.length){if(b.sliding){s("root")}else{j("root")}}else{if(b.sliding){s("current")}else{j("current")}}f.on("click",function(){o.toggleClass("mobilemenu--open");if(b.push){if(b.origin==="left"){o.addClass("mobilemenu--left")}else{if(b.origin==="right"){o.addClass("mobilemenu--right")}}}f.toggleClass("is-active");g.toggleClass("mobilemenu--visible")});v.on("click",function(z){if(!b.dropdownControls){if(b.sliding){s("left",z)}else{j(z)}z.preventDefault()}}).children().on("click",function(){if(!b.dropdownControls){}});jQuery(".navigation__dropdowntoggle").on("click",function(z){j(z)});jQuery(".mobilemenu__back, .mobilemenu__breadcrumb").on("click",function(z){s("right",z)});if(b.sliding){var u=q.find("[data-toggle]");u.on("click",function(z){q.addClass("mobilemenu__meta--hidden");s("meta",z)})}if(b.sliding){q.addClass("transition--none");d();setTimeout(function(){q.removeClass("transition--none")},500)}setTimeout(function(){g.removeClass("transition--none")},500)};r()})});jQuery(".mobilemenu").mobileMenu({push:false,sliding:true,dropdownControls:false,dropdownControlPosition:"right",overviewLinkAttribute:"data-overviewtext",overviewLinkText:"Overview",origin:"left",width:"270px",minWidth:"270px",contentOverlay:true,currentClass:"current",activeClass:"active",menuToggle:"[data-toggle='mobilemenu']",backbutton:false,backbuttonContent:"",expandMultipleLevels:false,closeToggle:"[data-close='mobilemenu']",breakpoint:1200});(function(){jQuery(document).on("loaded.load_on_scroll",".load__on__scroll[data-background-image]",function(){var a=jQuery(this);if(a.data("background-image")){a.css({"background-image":"url("+a.data("background-image")+")"})}a.off("loaded.load_on_scroll")})}());(function(){jQuery(document).on("loaded.load_on_scroll",".load__on__scroll[data-src]",function(){var a=jQuery(this);a.attr("src",a.attr("data-src"));a.off("loaded.load_on_scroll")})}());(function(){var b=jQuery(".load__on__scroll");var c=function(f){f.addClass("load__on__scroll--loaded");f.trigger("loaded.load_on_scroll");b=b.not(f);if(b.length==0){e()}};var d=function(){var f=jQuery(window).height(),g=jQuery(window).scrollTop();b.each(function(){var j=jQuery(this),h=j.offset().top,i=h-(2*f);if(g>=i){c(j)}})};var a=function(){jQuery(window).on("scroll.load_on_scroll",d);jQuery(window).on("resize.load_on_scroll",d)};var e=function(){jQuery(window).off("scroll.load_on_scroll");jQuery(window).off("resize.load_on_scroll")};if(b.length>0){jQuery(window).on("load",function(){a();d()})}}());(function(){var e=jQuery(".visible__on__scroll");var c=function(f){f.addClass("visible__on__scroll--visible");f.trigger("visible.visible_on_scroll")};var d=function(f){f.removeClass("visible__on__scroll--visible");
f.trigger("invisible.visible_on_scroll")};var b=function(){var f=jQuery(window).height(),g=jQuery(window).scrollTop();e.each(function(){var i=jQuery(this),h=i.offset().top,k=h-f,j=h+i.height();if(g<k&&i.hasClass("visible__on__scroll--visible")){d(i)}if(g>=k&&g<j&&!i.hasClass("visible__on__scroll--visible")){c(i)}if(g>=j&&i.hasClass("visible__on__scroll--visible")){d(i)}})};var a=function(){jQuery(window).on("scroll.load_on_scroll",b);jQuery(window).on("resize.load_on_scroll",b)};if(e.length>0){jQuery(window).on("load",function(){a();b()})}}());var AvDesign=AvDesign||{};AvDesign.Form={};jQuery.fn.floatingLabels=(function(){return this.each(function(){var a=jQuery(this);setTimeout(function(){a.addClass("hasTransition")},500);if(jQuery(this).val().length){jQuery(this).addClass("hasText")}else{jQuery(this).removeClass("hasText")}a.focus(function(){jQuery(this).addClass("hasText")});a.blur(function(){if(jQuery(this).val()==""){jQuery(this).removeClass("hasText");jQuery(this).attr("placeholder",jQuery(this).attr("data-placeholder"))}})})});jQuery('textarea, input[type="text"], input[type="email"], input[type="number"], input[type="password"], input[type="url"], input[type="search"], input[type="tel"], input[type="date"], input[type="number"]').floatingLabels();jQuery.fn.initialSelect=(function(){return this.each(function(){var e=jQuery(this),g=jQuery(this).siblings(".select__label--static"),k=null,a=e.attr("multiple"),h=e.hasClass("select--nosearch")||e.attr("data-theme")==="highlight";if(e.attr("data-theme")==="highlight"||e.attr("data-theme")==="highlightspinner"){if(e.parents(".highlightselect__wrapper").length===0){e.wrap('<div class="highlightselect__wrapper"></div>')}k=e.parent(".highlightselect__wrapper")}if(e.attr("data-theme")==="subnavigation"){k=e.parent(".header__subnavigation")}e.on("select2:open",function(){setTimeout(function(){e.next(".select2").next(".select2-container").addClass("select2-container--opened")},150)});e.on("select2:closing",function(){e.next(".select2").next(".select2-container").removeClass("select2-container--opened")});e.on("select2:select",function(){if(typeof jQuery(this).parsley==="function"){jQuery(this).parsley().validate()}});var f={theme:"commonform",minimumResultsForSearch:h?-1:20,dropdownParent:k,templateResult:function(m,l){if(m.element){jQuery(l).addClass(jQuery(m.element).attr("class"))}return m.text},templateSelection:function(m,l){if(m.element){jQuery(l).removeClass("flag").removeClass(function(n,o){return(o.match(/(^|\s)flag-\S+/g)||[]).join(" ")}).addClass(jQuery(m.element).attr("class"))}return m.text}};if(a){f=jQuery.extend(f,{closeOnSelect:false,dropdownAutoWidth:true})}e.select2(f);if(a){var c=e.next(".select2-container"),j=c.find(".select2-selection--multiple"),i=jQuery('<div class="select2-selection__counter"></div>'),b=e.attr("data-label-choosen");j.append(i);j.append('<span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>');e.on("change",function(){var l=j.find(".select2-selection__choice").length;if(l>0){i.html(l+" "+b)}else{i.html("")}});if(e.hasClass("autosubmit")){e.on("change",function(){e.parents("form").trigger("submit")})}if(e.hasClass("autosubmit--onclose")){var d;e.on("select2:open",function(){d=e.select2("val")});e.on("select2:closing",function(){if(JSON.stringify(d)==JSON.stringify(e.select2("val"))){return}d=null;e.parents("form").trigger("submit")})}}setTimeout(function(){e.addClass("hasTransition")},500);if(g.length){jQuery(this).siblings(".select2-container").find(".select2-selection").first().css({"padding-left":g.outerWidth()+30});jQuery(this).siblings("label").css({"left":g.outerWidth()+30})}if((jQuery(this).val()&&jQuery(this).val().length)||(!jQuery(this).val()&&jQuery(this).children(":selected").text())){jQuery(this).addClass("hasText")}else{jQuery(this).removeClass("hasText")}jQuery(this).on("change",function(){if((jQuery(this).val()&&jQuery(this).val().length)||(!jQuery(this).val()&&jQuery(this).children(":selected").text())){jQuery(this).addClass("hasText")}else{jQuery(this).removeClass("hasText")}})})});jQuery("select").initialSelect();jQuery('input[data-type="date"]').each(function(){jQuery(this).focus(function(){jQuery(this).attr("type",jQuery(this).attr("data-type"))});jQuery(this).blur(function(){if(!jQuery(this).val().length){jQuery(this).attr("type","test")}})});jQuery.fn.integratedButton=function(){jQuery(this).each(function(){var a=jQuery(this);var c=a.find("input").first();var b=a.find(".btn").first();jQuery(window).on("resize",function(){c.css({"padding-right":b.outerWidth()+10})});c.css({"padding-right":b.outerWidth()+10})})};jQuery(".form__group--btn").integratedButton();jQuery.fn.contentTabs=function(){jQuery(this).each(function(){var i=jQuery(this),e=false,h=false,c=false,a="tabs__nav__wrapper--overflow-left",b="tabs__nav__wrapper--overflow-right",f=i.find(".tabs__nav__wrapper");var g=function(m,k){var j=jQuery(jQuery(jQuery(m).attr("href")));var l=jQuery(jQuery(jQuery(k).attr("href")));
j.find(".imagegallery").imagegallery();j.find(".imagegallery .imagegallery__stage__slider").trigger("play.owl.autoplay");j.find(".item__media").each(function(){var n=jQuery(this);if(!n.find(".item__media").parents(".owl-carousel").length){var o=n.find("img");o.attr("src",o.data("src"))}});l.find(".imagegallery").destroyImagegallery()};var d=function(k){if(!e){return}var j=jQuery(k),l=j.find(".mCSB_container");if(!l.css("left")||parseInt(l.css("left"),10)<0){f.addClass(a)}else{f.removeClass(a)}if(j.width()-k.mcs.left<l.width()){f.addClass(b)}else{f.removeClass(b)}};i.find('a[data-toggle="tab"]').on("shown.bs.tab",function(j){g(j.target,j.relatedTarget)});g(jQuery(i.find('a[data-toggle="tab"]').first()));f.mCustomScrollbar({setWidth:"100%",axis:"x",scrollbarPosition:"outside",autoHideScrollbar:false,scrollButtons:{enable:true,scrollAmount:10},mouseWheel:{enable:false},advanced:{updateOnContentResize:true,contentTouchScroll:true,documentTouchScroll:true},onTotalScrollOffset:0,onTotalScrollBackOffset:0,callbacks:{onInit:function(){var j=this;jQuery(this).css({"display":"block"});setTimeout(function(){e=true;d(j)},50)},whileScrolling:function(){d(this)},onScroll:function(){if(window.innerWidth>=992&&e&&c===false){h=this.mcs.left;d(this)}},onUpdate:function(){var j=this;if(!e){return}if(c!==false){clearTimeout(c)}c=setTimeout(function(){f.mCustomScrollbar("scrollTo",h,{scrollInertia:0});d(j);c=false},250)}}});f.mCustomScrollbar("scrollTo",0,{scrollInertia:0})})};jQuery.fn.avPopover=(function(){return this.each(function(){var b=jQuery(this);if(b.is('[data-target="popover--error"]')){b.popover({html:true,container:"body",placement:"top",trigger:"manual",content:function(){return b.siblings(".parsley-errors-list").html()}})}else{if(b.is("[data-target]")){var a=jQuery(b.data("target"));if(a.length){b.popover({html:true,container:"body",content:a.html(),placement:"top",template:'<div class="popover large" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',trigger:"hover"})}}else{b.popover({html:true,container:"body",placement:"top"})}}b.on("click",function(c){c.stopPropagation()});b.hover(function(){if(b.siblings(".parsley-error, .invalid").length){b.popover("show")}},function(){b.popover("hide")});jQuery(window).on("click touchstart",function(){b.popover("hide")})})});jQuery('[data-toggle="popover"]').avPopover();jQuery.fn.initWavesJs=function(){Waves.attach(".btn--primary",["waves-darkblue"]);Waves.attach(".stickybutton",["waves-darkblue"]);Waves.attach(".btn--secondary",["waves-grey"]);Waves.attach(".btn--invert",["waves-lightblue"]);Waves.init({duration:750});jQuery(".btn--primary, .btn--secondary, .btn--invert, .stickybutton").each(function(){if(jQuery(this).children(".waves-textwrapper").length==0){jQuery(this).wrapInner('<span class="waves-textwrapper"></span>')}});jQuery(".waves-button-input[disabled]").parents("i.btn").attr("disabled","disabled");jQuery(".waves-button-input[data-trackingclass]").each(function(){jQuery(this).addClass(jQuery(this).data("trackingclass")).removeAttr("data-trackingclass")})};jQuery(document).ready(function(){jQuery().initWavesJs()});jQuery.fn.footerContactMobileMaximizer=function(){return this.each(function(){var a=jQuery(this),c=a.find(".contact__set--minimized-on-mobile"),d=a.find(".contact__set__mobilemaximizer"),b=a.find(".contact__set__mobilemaximizer__wrapper");enquire.register("screen and (max-width: 768px)",{match:function(){b.show();c.hide()},unmatch:function(){b.hide();c.show()}});d.on("click",function(){b.slideUp();c.slideDown()})})};jQuery.fn.stickyBox=function(){return this.each(function(){var f=jQuery(this),d=f.find(".form__searchtextwrap input"),b=jQuery(f.attr("data-opentrigger")),a=f.find(".stickybox__close"),e=f.attr("id"),c="click.stickybox.documentclick.closer"+e+" touchstart.stickybox.documentclick.closer"+e;var h=function(){f.addClass("stickybox--open");setTimeout(function(){d.focus();jQuery(document).on(c,function(i){if(jQuery(i.target).parents("#"+e).length>0||jQuery(i.target).is(f)){return}g()})},1)};var g=function(){jQuery(document).off(c);f.removeClass("stickybox--open")};b.on("click",function(){h()});a.on("click",function(){g()})})};jQuery.fancybox.defaults.buttons=["close"];jQuery(function(){jQuery("a.fancybox").fancybox({});jQuery("a.link--video").fancybox({youtube:{showinfo:0},vimeo:{color:"009fe3"},iframe:{preload:false,css:{width:"1024px",height:"576px"}}});jQuery(".videolink--fancybox").fancybox({iframe:{preload:false,css:{width:"1024px",height:"576px"}}})});(function(){jQuery(".avMATE ELECTRICAL_video").each(function(){var c=jQuery(this),a=c.find(".playbutton"),b=c.find("figcaption");if(a.length&&b.length){b.appendTo(a)}})}());jQuery.fn.scrolltable=function(a){jQuery(this).each(function(){var h=jQuery(this);var e=h.find(".table__scrollbarwrapper");var j=jQuery(this).find("table");var i=j.find("tr");var b=h.parents(".accordion__body").first();function c(){var k=Math.floor(j.outerWidth(true)-e.innerWidth()),l="table__scrollbarwrapper--gradient-right";
if(!e.hasClass(".table__scrollbarwrapper--positioned")&&k){if(e.scrollLeft()>=k){e.removeClass(l)}else{e.addClass(l)}}else{e.removeClass(l)}}function g(){i.each(function(){var m=jQuery(this).children().first(),k=jQuery(this).children().not(m);m.css("height","");k.first().css("height","");var l=0;k.each(function(){if(jQuery(this).outerHeight(true)>l){l=jQuery(this).outerHeight(true)}});if(h.hasClass("table__scrollbarwrapper--multiline")){l=Math.max(l,m.outerHeight(true));m.css("height",l+"px");k.first().css("height",l+"px")}else{jQuery(this).children().first().css({height:l+1})}})}function f(){var k=[];var p=0;i.each(function(){k.push(jQuery(this).children().first())});if(a.fixedColumn){e.css("margin-left","");for(var m=0;m<k.length;++m){jQuery(k[m]).css("width","")}for(var m=0;m<k.length;++m){var o=jQuery(k[m]);var n=o.outerWidth();if(n>p){p=n}}for(var l=0;l<k.length;++l){jQuery(k[l]).css({"width":p})}e.css({"margin-left":p-1})}e.addClass("table__scrollbarwrapper--positioned").trigger("positioned.avstickytables")}function d(){jQuery(window).on("resize",function(){f()});f();jQuery(window).on("resize",function(){g()});g();e.on("scroll positioned.avstickytables",function(){c()});c()}if(!b.length){d()}else{h.css({"opacity":"0"});b.on("shown.bs.collapse",function(){d();h.css({"opacity":"1","transition":"opacity 0.2s ease-in-out"});setTimeout(function(){h.css({"transition":"opacity 0.2s ease-in-out"})},1000)})}})};jQuery(".frame-type-table .table__wrapper:not(.table__wrapper--fixedcol)").scrolltable({fixedColumn:false});jQuery(".frame-type-table .table__wrapper.table__wrapper--fixedcol").scrolltable({fixedColumn:true});jQuery(".frame-type-avMATE ELECTRICAL_techdata .table__wrapper.table__wrapper--fixedcol").scrolltable({fixedColumn:true});(function(){var b=jQuery(".jumplink");var a=function(){b.each(function(){var d=jQuery(this),c=jQuery(d.attr("data-fixedcontainer")),g=c.outerHeight(true)+c.offset().top,h=window.innerHeight?window.innerHeight:jQuery(window).height(),f=g>h;if(f){var e=g-(jQuery(document).scrollTop()+h);if(e>0){d.addClass("jumplink--fixed")}else{d.removeClass("jumplink--fixed")}}else{d.removeClass("jumplink--fixed")}})};jQuery(window).resize(a);jQuery(window).scroll(a);jQuery(document).ready(a)}());jQuery.fn.avAccordion=(function(){var a=jQuery(this);a.each(function(){var b=jQuery(this);b.on("hide.bs.collapse",function(){b.find(".indicator__text").text(b.find(".indicator__text").data("closetext"))}).on("show.bs.collapse",function(){b.find(".indicator__text").text(b.find(".indicator__text").data("opentext"))})});enquire.register("screen and (max-width: 767px)",{match:function(){a.each(function(){jQuery(this).find(".accordion__body__inner").prepend(jQuery(this).find(".toggle__teaser"))})},unmatch:function(){a.each(function(){jQuery(this).find(".toggle__text").append(jQuery(this).find(".toggle__teaser"))})}})});jQuery(".accordion").avAccordion();(function(){jQuery("[data-countup]").each(function(){var c=jQuery(this),a=c.attr("data-countup"),b=3000;if(a<=15){b=2000}else{if(a<=30){b=2250}else{if(a<=75){b=2500}else{if(a<=125){b=2750}}}}c.on("start.countup",function(){jQuery({Counter:0}).animate({Counter:a},{duration:b,easing:"easeOutCubic",step:function(d){c.text(Math.ceil(d))}})})})})();(function(){var a=function(){jQuery(".contentoverflow").each(function(){var g=jQuery(this);if(!g.data("alignto")){return}var b=jQuery(g.data("alignto")),d=jQuery(g.data("negateheightelements")),c=jQuery(g.data("negatepaddingelements")),f=g.data("disablecontentoverflow")?g.data("disablecontentoverflow"):768,e=g.data("minheight")?g.data("minheight"):0;b.add(g).imagesLoaded(function(){g.css("height","");var h=b.outerHeight(true),i=g.outerHeight(true),l=0,k=0;d.each(function(){l+=jQuery(this).outerHeight(true)});c.each(function(){k+=parseInt(jQuery(this).css("padding-top"));k+=parseInt(jQuery(this).css("padding-bottom"))});h=Math.max(e,(h-l-k));if((window.innerWidth>=f)&&(h<i)){var j=g.outerHeight(true);g.parents(".accordion").on("show.bs.collapse",function(){if(jQuery(window).width()>767){g.css("height",j+"px");g.removeClass("contentoverflow--hasoverflow")}}).on("hide.bs.collapse",function(){if(jQuery(window).width()>767){g.css("height",h+"px");g.addClass("contentoverflow--hasoverflow")}});g.css("height",h+"px");g.addClass("contentoverflow--hasoverflow")}else{g.removeClass("contentoverflow--hasoverflow")}})})};jQuery(window).on("resize",a);a()})();jQuery.fn.imagecompare=function(a){jQuery(this).each(function(){var d=jQuery(this);var f=jQuery(this).find(".imagecomparison__container");var b=d.find('[data-toggle="imagecomparison"]');var c=d.find(".imagecomparison__image");var e=function(h){var g=f.each(function(){var i=jQuery(this);i.twentytwenty({default_offset_pct:0.5,orientation:"horizontal",before_label:i.data("label-before"),after_label:i.data("label-after"),no_overlay:false,animate:true,animateSteps:[0.75,0.25,0.5],animationDuration:0.5})});f.find(".twentytwenty-handle").append('<span class="handle__gradient"></span>');b.on("click",function(){c.toggleClass("imagecomparison__image--hidden");
b.find(".switch__image").toggleClass("switch__image--hidden")})};e(a)})};jQuery.fn.productFilter=(function(a){var b=a;return jQuery(this).each(function(){var c=jQuery(this);var d=c.find("[data-filter]");var e=function(g){g.find('input:not([data-checked="1"])').each(function(){jQuery(this).prop("checked",false)});g.find('input[data-checked="1"]').each(function(){jQuery(this).prop("checked",true)})};var f=function(){d.each(function(){var g=jQuery(this).find("input:checked").length;if(g>0){jQuery(this).addClass("has-filters")}});c.find(".reset-button").click(function(h){h.preventDefault();var g=jQuery(this).closest(".filter__content").find('input[type="checkbox"]:checked');g.prop("checked",false);c.find('input[type="submit"]:visible').trigger("click")});d.click(function(){var g=jQuery(this);if(g.hasClass("active")){return}jQuery(d.filter(".active").each(function(){e(jQuery(this))}));d.removeClass("active").removeClass("unconfirmed");g.addClass("active");g.find("[data-label]").click(function(h){if(g.hasClass("active")){h.stopPropagation();g.removeClass("active")}})});d.find('input[type="checkbox"]').change(function(){jQuery(this).closest(".filter").addClass("unconfirmed")});jQuery(window).click(function(){jQuery(d.filter(".active").each(function(){e(jQuery(this))}));d.removeClass("active").removeClass("unconfirmed")});d.click(function(g){g.stopPropagation()});c.addClass("initialized")};f()})});(function(){jQuery(".dotdotdot__truncate").dotdotdot({watch:"window"})})();(function(){var b=jQuery("#toTopButton"),a="active";jQuery(window).on("scroll",function(){if(jQuery(window).scrollTop()){b.addClass(a)}else{b.removeClass(a)}});b.on("click",function(c){c.preventDefault();jQuery("html, body").stop().animate({scrollTop:0},500,"swing")})})();jQuery.fn.productgallery=function(){return this.each(function(){var b=jQuery(this);var d=function(e){var f=e.relatedTarget.relative(e.item.index),g=b.find(".product__gallery__counter");g.find(".index").text(f+1);g.find(".count").text(e.item.count)};var c=b.find(".product").length,a=c<2;if(a){b.find(".product__gallery__counter").toggleClass("visible-xs hidden")}b.find(".owl-carousel").on("initialized.owl.carousel changed.owl.carousel",d).owlCarousel({lazyLoad:true,multiLazyLoadItems:2,navText:["",""],nav:true,dots:false,responsiveBaseElement:b,responsive:{0:{items:1,stagePadding:0,mouseDrag:(c>1),touchDrag:(c>1)},768:{items:2,stagePadding:(c>2)?40:0,mouseDrag:(c>2),touchDrag:(c>2)},992:{items:3,stagePadding:(c>3)?60:0,mouseDrag:(c>3),touchDrag:(c>3)},1400:{items:4,stagePadding:(c>4)?100:0,mouseDrag:(c>4),touchDrag:(c>4)}}})})};jQuery.fn.productfinder=function(a){var b={};jQuery().extend(b,a);this.each(function(){var j=jQuery(this);var c={$wrapper:j.find(".productfinder"),$form:j.find("[data-form]"),$segmentSelector:j.find('[data-form] [name="segment"]'),$propertySelector:j.find('[data-form] [name="property"]'),$submitButton:j.find('[data-form] [type="submit"]'),$content:j.find("[data-content]"),$backgroundImageContainer:j.find(".productfinder__image"),$closer:j.find("[data-closer]"),$fancyboxTrigger:j.find(".content__gallery__fancyboxtrigger")};c.$fancyboxTrigger.fancybox({keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,margin:0,baseClass:"productfinder__fancybox",afterShow:function(l,m){m.$content.productgallery()},afterClose:function(){c.$content.removeAttr("style")}});var i=false;enquire.register("screen and (max-width: 991px)",{match:function(){i=true},unmatch:function(){i=false;jQuery.fancybox.close(true)}});var h=c.$wrapper.data("defaultbg"),k=null;var e=function(m){if(k==m){return}k=m;var l=jQuery('<div class="productfinder__image" style="background-image:url('+m+');"></div>');c.$backgroundImageContainer.after(l);c.$backgroundImageContainer.fadeOut(1000,function(){j.find(".productfinder__image").not(l).remove();c.$backgroundImageContainer=l})};var d=function(l,o,n){if(!l){c.$propertySelector.html("");c.$propertySelector.prop("disabled",true);c.$content.addClass("content__gallery--empty");c.$content.html("");e(h);return}if(n){AvBasics.Util.Cookie.set("segment_assignment",l)}var m={"tx_avMATE ELECTRICAL_productfinder[contentUid]":b.contentUid||null,"tx_avMATE ELECTRICAL_productfinder[segment]":l||null,"tx_avMATE ELECTRICAL_productfinder[property]":o||null,"tx_avMATE ELECTRICAL_productfinder[renderContent]":n?1:0};j.addClass("frame--loading");jQuery.get(b.source,m,function(r){if(!o){var p='<option value="">'+c.$propertySelector.data("all-label")+"</option>";for(var q in r.properties){p+='<option value="'+r.properties[q].uid+'">'+r.properties[q].title+"</option>"}c.$propertySelector.html(p);c.$propertySelector.prop("disabled",false)}if(r.segmentImage){e(r.segmentImage)}else{e(h)}if(r.content){c.$content.html(r.content);if(i){c.$fancyboxTrigger.click()}else{c.$content.productgallery();c.$content.removeClass("content__gallery--empty")}}j.removeClass("frame--loading")})};c.$form.submit(function(){var l=c.$segmentSelector.val();var m=c.$propertySelector.val();d(l,m,true);return false
});c.$segmentSelector.change(function(){c.$content.addClass("content__gallery--empty");if(jQuery(this).val()){c.$submitButton.prop("disabled",false).parents(".btn").attr("disabled",false);d(jQuery(this).val(),false,false)}else{c.$submitButton.prop("disabled",true).parents(".btn").attr("disabled",true);c.$propertySelector.html('<option value="">'+c.$propertySelector.data("pleasechoose-label")+"</option>");c.$propertySelector.prop("disabled",true);e(h)}});j.on("click","[data-closer]",function(){c.$content.addClass("content__gallery--empty")});c.$propertySelector.on("change",function(){c.$content.addClass("content__gallery--empty")});var g=parseInt(AvBasics.Util.Cookie.get("segment_assignment"),10);if(g&&c.$segmentSelector.find('option[value="'+g+'"]').length>0){c.$segmentSelector.val(g).trigger("change.select2");d(g,undefined,false)}else{var f=c.$wrapper.data("default-segment");if(f.length!=""){c.$segmentSelector.val(f).trigger("change.select2")}d(c.$segmentSelector.val(),undefined,false)}j.find(".select--slotmachine").slotmachineselect()})};jQuery.fn.counterelements=function(){return this.each(function(){var i=jQuery(this),e=i.find(".counterelements__elements .counterelement");var f=function(l){l.find("[data-countup]").trigger("start.countup")};var g=function(l){if(!l.hasClass("counterelement")){return}l.removeClass("counterelement--standby");f(l)};var a=function(){e.filter(".counterelement--standby").each(function(m,l){setTimeout(function(){g(jQuery(l))},(300*(m+1)))})};var k=function(){var l=jQuery(window).height(),o=jQuery(window).scrollTop(),m=i.offset().top,n=(m-l);if(o>=n){a();h()}};var d=function(){var l=jQuery(window).height(),n=jQuery(window).scrollTop(),m=e.filter(".counterelement--standby");if(m.length==0){h()}m.each(function(){var p=jQuery(this),o=p.offset().top,q=(o-l)+(p.height()*0.75);if(n>=q){g(p)}})};var c={match:function(){jQuery(window).on("scroll",d);jQuery(window).on("resize",d);d()},unmatch:function(){jQuery(window).off("scroll",d);jQuery(window).off("resize",d)}};var j={match:function(){jQuery(window).on("scroll",k);jQuery(window).on("resize",k);k()},unmatch:function(){jQuery(window).off("scroll",k);jQuery(window).off("resize",k)}};var b=function(){enquire.register("screen and (max-width: 768px)",c);enquire.register("screen and (min-width: 769px)",j)};var h=function(){enquire.unregister("screen and (max-width: 768px)",c);enquire.unregister("screen and (min-width: 769px)",j)};b()})};jQuery.fn.masonryMenu=function(){return this.each(function(){var a=jQuery(this);a.imagesLoaded(function(){a.masonry({itemSelector:".menubox__wrapper",columnWidth:".masonry__gridsizer",percentPosition:true,transitionDuration:0});a.layoutMasonryMenu();setTimeout(function(){a.layoutMasonryMenu()},250);setTimeout(function(){a.layoutMasonryMenu()},500)})})};jQuery.fn.appendedToMasonryMenu=function(a){return this.each(function(){var b=jQuery(this);b.masonry("appended",a);b.layoutMasonryMenu()})};jQuery.fn.prependedToMasonryMenu=function(a){return this.each(function(){var b=jQuery(this);b.masonry("prepended",a);b.layoutMasonryMenu()})};jQuery.fn.layoutMasonryMenu=function(){return this.each(function(){var a=jQuery(this);a.imagesLoaded(function(){a.masonry("layout");a.find(".menubox__wrapper").addClass("masonry--layouted")})})};jQuery.fn.fullscreenSlider=function(a){return this.each(function(){var b=jQuery(this),h=b.find(".fullscreenslider__backgrounds"),j=b.find(".fullscreenslider__texts"),l=b.find(".fullscreenslider__controls .control--prev"),k=b.find(".fullscreenslider__controls .control--next"),f=b.find(".fullscreenslider__cta");var g=parseInt(AvBasics.Util.Cookie.get("segment_assignment"),10);var d=0;if(g&&a.marketingAutomation!=undefined&&jQuery.isArray(a.marketingAutomation)){for(var c in a.marketingAutomation){if(jQuery.inArray(g,a.marketingAutomation[c].categories)>=0){d=c;break}}}var n=function(i){if(i.item.index<1){l.addClass("control--disabled")}else{l.removeClass("control--disabled")}if((i.item.index+1)===i.item.count){k.addClass("control--disabled")}else{k.removeClass("control--disabled")}};var m=function(p){var s=jQuery(p.target),t=s.find(".owl-item"),i=t.first(),o=t.last(),r=i.offset().left,q=(o.offset().left+o.width()-jQuery(document).width());if(r<=0){b.addClass("overflow__left")}else{b.removeClass("overflow__left")}if(q>0){b.addClass("overflow__right")}else{b.removeClass("overflow__right")}};var e=function(){};h.owlCarousel({startPosition:d,items:1,smartSpeed:500,linked:j,lazyLoad:true,multiLazyLoadItems:1,autoplayTimeout:4500,autoplay:true,autoplaySpeed:800,loop:true});j.owlCarousel({startPosition:d,items:8,autoWidth:true,center:true,linked:h,autoplaySpeed:800,responsive:{0:{items:1},768:{items:8}},onInitialized:function(i){j.find(".owl-item").each(function(p,q){var o=jQuery(q);o.find(".text__wrapper a").on("click",function(r){if(o.hasClass("center")){return}j.trigger("to.owl.carousel",[p,300,true]);r.preventDefault();r.stopPropagation();return false})});j.on("translated.owl.carousel",function(o){m(o)
});m(i);setTimeout(function(){b.addClass("fullscreenslider__wrapper--initialized");j.trigger("refresh.owl.carousel");h.trigger("refresh.owl.carousel")},1000)},onChanged:function(i){n(i)},onResized:function(){b.addClass("fullscreenslider__wrapper--initialized");j.trigger("refresh.owl.carousel");h.trigger("refresh.owl.carousel")}});l.on("click",function(){j.trigger("prev.owl.carousel")});k.on("click",function(){j.trigger("next.owl.carousel")});f.on("click",function(i){jQuery("html, body").animate({scrollTop:b.outerHeight()-52},1000);i.preventDefault();return false})})};jQuery.fn.fullscreenMagazineSlider=function(a){return this.each(function(){var c=jQuery(this),b=c.find(".fullscreenslider__backgrounds"),e=c.find(".fullscreenslider__controls .control--prev"),d=c.find(".fullscreenslider__controls .control--next");b.owlCarousel({items:1,smartSpeed:500,lazyLoad:true,multiLazyLoadItems:1,autoplayTimeout:4500,autoplay:true,autoplaySpeed:800,loop:true});e.on("click",function(){b.trigger("prev.owl.carousel")});d.on("click",function(){b.trigger("next.owl.carousel")})})};jQuery.fn.imagegallery=function(){return this.each(function(){var o=jQuery(this),k=o.find(".imagegallery__stage__slider"),r=o.find(".imagegallery__stage__counter"),d=o.find(".imagegallery__thumbs__slider"),p=k.find(".imagegallery__item").length,l=5;var b=(o.hasClass("imagegallery--thumbnails")&&d.length>0),g=o.hasClass("imagegallery--nav"),c=o.hasClass("imagegallery--dots"),i=(o.hasClass("imagegallery--dots")&&r.length>0),m=o.hasClass("imagegallery--loop"),j=o.hasClass("imagegallery--centered"),h=o.hasClass("imagegallery--fade"),a=o.hasClass("imagegallery--extended"),n=o.data("autoplay-timeout")?o.data("autoplay-timeout"):2000;if(i&&p>=l){o.addClass("imagegallery--counter")}else{o.removeClass("imagegallery--counter")}var e=function(s){var t=s.relatedTarget.relative(s.item.index);if(b){d.find(".owl-item.current").removeClass("current");d.find(".owl-item:not(.cloned)").eq(t).addClass("current")}if(i){r.find(".index").text(t+1);r.find(".count").text(s.item.count)}};k.on("initialized.owl.carousel",e).owlCarousel({items:1,lazyLoad:true,multiLazyLoadItems:1,nav:g,navText:["",""],dots:c,margin:20,autoplayTimeout:n,autoplay:h,responsiveRefreshRate:200,linked:b?d:null,loop:m||h,autoHeight:true,animateOut:h?"fadeOut":false,animateIn:h?"fadeIn":false,mouseDrag:!h,touchDrag:!h,}).on("changed.owl.carousel",e).on("loaded.owl.lazy",function(s){jQuery(s.element).parents(".item__media").css("backgroundImage",'url("'+jQuery(s.element).attr("src")+'")').addClass("imagegallery__media--loaded")});if(h){k.trigger("stop.owl.autoplay");o.on("visible.visible_on_scroll",function(){k.trigger("play.owl.autoplay")});o.on("invisible.visible_on_scroll",function(){k.trigger("stop.owl.autoplay")})}if(g){var f=function(){var t=k.find(".owl-item").not(".cloned").first(),s=t.find(".imagegallery__item .item__media"),u=s.outerHeight();k.find(".owl-next, .owl-prev").css({top:u/2})};f();k.on("resized.owl.carousel",f)}if(b){var q=d.attr("data-thumbcount");d.on("initialized.owl.carousel",e).owlCarousel({lazyLoad:true,dots:false,nav:true,navText:["",""],smartSpeed:200,margin:a?15:20,responsiveRefreshRate:100,linked:k,loop:m,center:!!(m||j),pullDrag:!a,responsive:{768:{items:3,mouseDrag:(p>3),touchDrag:(p>3)},1024:{items:5,mouseDrag:(p>5),touchDrag:(p>5)},1200:{items:q,mouseDrag:(p>q),touchDrag:(p>q),}}}).on("click",".owl-item",function(){d.trigger("to.owl.carousel",[d.data("owl.carousel").relative(jQuery(this).index()),300,true])})}})};jQuery.fn.destroyImagegallery=function(){return this.each(function(){var c=jQuery(this),d=c.find(".imagegallery__stage__slider"),b=c.find(".imagegallery__thumbs__slider");var a=(c.hasClass("imagegallery--thumbnails")&&b.length>0);d.trigger("destroy.owl.carousel");if(a){b.trigger("destroy.owl.carousel")}})};jQuery.fn.testimonials=function(){return this.each(function(){var p=3;var i=jQuery(this),j=i.find(".testimonials__stage"),h=j.find(".reference"),d=i.find(".testimonials__selectorbox"),o=d.find(".selectorbox__select select"),l=d.find(".selectorbox__link a");var g=o.find("option");var a=function(q){var s=h.filter("[data-identifier="+q+"]"),r=s.find("img[data-src]");h.fadeOut();s.fadeIn(function(){s.find(".dotdotdot__truncate").trigger("update.dot")});if(r.length>0){r.each(function(){var t=jQuery(this);t.attr("src",t.attr("data-src")).removeAttr("data-src")})}};var c=function(q){l.attr("href",q)};enquire.register("screen and (max-width: 768px)",{match:function(){d.removeClass("bluebox--arrow--left").addClass("bluebox--arrow--top")},unmatch:function(){d.removeClass("bluebox--arrow--top").addClass("bluebox--arrow--left")}});var n=parseInt(AvBasics.Util.Cookie.get("segment_assignment"),10);if(n&&parseInt(j.data("enable-marketing-automation"),10)===1){var f="";var e=[];var b=g.filter(function(){var r=jQuery(this).data("assigned-categories")+"";if(!r){return false}var q=r.split(",");q=q.map(function(s){return parseInt(s,10)});if(jQuery.inArray(n,q)>=0){return true}return false
});b.each(function(){e.push(jQuery(this).data("identifier"));f+=jQuery(this).clone().wrap("<div>").parent().html()});if(b.length<p){var m=p-b.length;o.find("option").each(function(){if(m<=0){return}f+=jQuery(this).clone().wrap("<div>").parent().html();m--})}o.html(f);g=o.find("option")}g.filter(":gt("+(p-1)+")").remove();o.on("change",function(){a(o.find(":selected").attr("data-identifier"));c(o.find(":selected").attr("data-href"))});if(o.length){o.find("option[data-identifier="+g.shuffle().first().attr("data-identifier")+"]").prop("selected",true);o.trigger("change")}else{var k=i.find(".single__reference");console.log(k);a(k.attr("data-identifier"));c(k.attr("data-href"))}})};jQuery.fn.productgroupTabs=function(){return this.each(function(){var h=jQuery(this),g=h.find(".tabs"),b=h.find(".tabs__nav .tab"),c=h.find(".tab-content"),f=c.find(".tab-pane"),a=false;var e=function(i){i.productgallery();g.addClass("tab-active-"+i.attr("data-tab"))};var d=function(i){i.find(".owl-carousel").trigger("destroy.owl.carousel");g.removeClass("tab-active-"+i.attr("data-tab"))};b.on("shown.bs.tab",function(){e(jQuery(jQuery(this).children("a").attr("href")))}).on("hidden.bs.tab",function(){d(jQuery(jQuery(this).children("a").attr("href")))});b.on("show.bs.tab",function(){if(!a){return}b.not(jQuery(this)).find(".tabs__tab").removeClass("in").removeClass("active")});b.on("shown.bs.tab",function(){if(!a){return}jQuery("html, body").animate({scrollTop:jQuery(this).find(".tabs__tabs").offset().top-40},500)});e(jQuery(b.filter(".active").children("a").attr("href")));enquire.register("screen and (max-width: 991px)",{match:function(){a=true;f.each(function(){var i=jQuery(this),j=b.filter('[data-tab="'+i.attr("data-tab")+'"]');i.appendTo(j).wrap('<div class="tabs__tabs"><div class="tab-content"></div></div>')})},unmatch:function(){a=false;f.each(function(){var i=jQuery(this);i.unwrap().unwrap().appendTo(c)})}})})};jQuery.fn.imagehotspots=function(){return this.each(function(){var f=false,a=false,g=jQuery(this),d=g.find("a.hotspot"),e=g.find(".accordion__body");var c=function(m,n){var l=jQuery(m),j=jQuery(n),k=j.offset().top-jQuery(document).scrollTop()-(j.actual("height")/2)-52-10;l.hide().appendTo(jQuery("body main"));var o=l.actual("height");l.remove();if(o>k){return"bottom"}return"top"};var b=function(){var j=jQuery(this);d.not(j).popover("hide");j.popover("toggle")};var h=function(){var k=jQuery(this),j=jQuery(k.attr("data-accordion"));e.not(j).collapse("hide");j.collapse("show");j.on("shown.bs.collapse",function(){jQuery("html, body").animate({scrollTop:j.parents(".accordion").offset().top-40},500)})};var i=function(){a=f;setTimeout(function(){f=window.innerHeight===screen.height;if(!f){if(a){return}d.filter("[aria-describedby]").popover("show")}},500)};d.on("click",b);jQuery(window).on("resize",i);enquire.register("screen and (max-width: 767px)",{match:function(){d.popover("hide");jQuery(window).off("resize",i);d.off("click",b);d.on("click",h)},unmatch:function(){e.collapse("hide");d.off("click",h);d.on("click",b);jQuery(window).on("resize",i)}});jQuery(document).click(function(j){if(jQuery(j.target).parents(".hotspot").length>0||jQuery(j.target).hasClass("hotspot")){return}if(jQuery(j.target).parents(".popover").length>0||jQuery(j.target).hasClass("popover")){return}if(jQuery(j.target).parents(".videolink").length>0){return}d.filter("[aria-describedby]").popover("hide")});d.popover({html:true,placement:c,content:function(){return jQuery(jQuery(this).attr("data-accordion")+" .hotspot__content__wrapper").html()},template:'<div class="popover popover--imagehotspot" role="tooltip"><div class="popover-content"></div></div>',container:"body main"}).on("show.bs.popover",function(){jQuery(this).addClass("open")}).on("shown.bs.popover",function(){var j=jQuery(".popover [data-play-link]");j.onlineMedia();j.find(".playbutton").trigger("click")}).on("hide.bs.popover",function(){jQuery(this).removeClass("open")})})};jQuery.fn.dealerSearch=function(){return this.each(function(){var h=jQuery(this),f=h.find("form.filters"),i=f.find(".submitonchange"),o=h.find(".filterdisablers .filterdisablers__disabler");f.on("submit",function(){if(!f.find(".loadingindicator").length){f.append('<div class="loadingindicator loadingindicator--centered" style="opacity: 0;"></div>');f.find(".loadingindicator").css({"opacity":"1"})}});i.on("change",function(){f.submit()});o.on("click",function(s){var r=jQuery(this),a=jQuery(r.attr("href"));a.prop("checked",false);r.remove();f.submit();s.preventDefault();return false});if(typeof(google)=="undefined"||typeof(google.maps)=="undefined"){return}var q=8,n=14;var d={center:new google.maps.LatLng(51.165691,10.451526),zoom:q,maxZoom:n,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:true};var e=new google.maps.InfoWindow();var k=h.find(".map--google"),g,j,l;if(k){var c=new google.maps.Map(k.get(0),d),b=new google.maps.LatLngBounds();if(k.attr("data-center")){var m=k.attr("data-center").split(",");if(m[2]=="FR"){j=m[0]||48.8143081;
l=m[1]||2.6738297}else{j=m[0]||48.14544;l=m[1]||8.19208}c.setCenter(new google.maps.LatLng(j,l));c.setZoom(q);if(k.attr("data-show-center-marker")){var g=new google.maps.Marker();g.setZIndex(-1);g.setIcon({url:"/typo3conf/ext/av_MATE ELECTRICAL/Resources/Public/Img/Icons/Dealersearch/Maps/Markers/map_marker_position.png",size:new google.maps.Size(46,59),anchor:new google.maps.Point(16,41)});g.setPosition(new google.maps.LatLng(j,l));g.setMap(c)}}if(k.attr("id")){var p=jQuery('[data-marker-map="#'+k.attr("id")+'"]');p.each(function(t){if(jQuery(this).attr("data-marker-islegitcoordinates")==0){return true}var v=jQuery(this).attr("data-marker-lat"),s=jQuery(this).attr("data-marker-lng"),u=jQuery(jQuery(this).attr("data-bubblecontent"));var a=new google.maps.Marker();a.setIcon({url:"/typo3conf/ext/av_MATE ELECTRICAL/Resources/Public/"+jQuery(this).attr("data-image"),size:new google.maps.Size(46,59),anchor:new google.maps.Point(16,41)});a.setPosition(new google.maps.LatLng(v,s));a.setMap(c);a.setZIndex(p.length-t);b.extend(a.getPosition());var r=function(w){c.panTo(a.getPosition());e.setContent(u.html());e.open(c,a);jQuery("html,body").animate({"scrollTop":jQuery("#dealer_map").offset().top-100});if(jQuery.isFunction(w.preventDefault)){w.preventDefault()}};google.maps.event.addListener(a,"click",r);jQuery(this).find("a.show__map").click(r)});if(p.length){c.fitBounds(b)}}enquire.register("screen and (max-width: 767px)",{match:function(){c.setOptions({draggable:false,zoomControl:false})},unmatch:function(){c.setOptions({draggable:true,zoomControl:true})}})}})};jQuery.fn.references=function(){var a=jQuery(this).find("form"),b=jQuery(this).find(".filterdisablers");a.find("select").each(function(){var c=jQuery(this);c.on("select2:select",function(d){var f=jQuery('<a class="filterdisablers__disabler btn btn--sm btn--primary btn--icon btn--icon--cancel" href="#" data-myid="'+d.params.data.id+'">'+d.params.data.text+"</a>");b.append(f);jQuery().initWavesJs();f.on("click",function(k){var g=jQuery(this).attr("data-myid"),h=c.val(),j=h.indexOf(g);if(j>=0){h.splice(j,1);c.val(h).change()}f.remove();a.trigger("submit");k.preventDefault();return false})});c.on("select2:unselect",function(d){b.find('.filterdisablers__disabler[data-myid="'+d.params.data.id+'"]').remove()})})};jQuery(function(){var f=jQuery("#domainsuggest"),a=f.find("[data-domainselection-input]"),c=f.attr("data-preselection"),b="domainsuggest--active",e="hide_domainsuggest",d=["de","en","fr","nl","zh","it","es","en","pl","tr","kr","sr","hu","cz"];if(c===""||typeof(c)=="undefined"){return}c=JSON.parse(c);c=c["countryId"]+"-"+d[c["languageId"]];if(AvBasics.Util.Cookie.get(e)!=1){setTimeout(function(){jQuery("body").addClass(b)},1000)}a.val(c).trigger("change");f.find("[data-submit]").click(function(){location.href=a.find("option:selected").data("url")});f.find(".domainsuggest__close").click(function(){jQuery("body").removeClass(b);AvBasics.Util.Cookie.set(e,1)})});(function(){var a=function(b){var c="_other";b.find('.powermail_fieldwrap_type_input [id$="'+c+'"]').each(function(){var f=jQuery(this);var i=f.parent().parent();var d=f.attr("name").replace(c,"");var g=b.find('.powermail_fieldwrap_type_radio [name="'+d+'"]');if(g.length>0){g.change(function(){if(jQuery(this).val()==g.last().val()){i.show();f.val("")}else{i.hide();f.val("-")}})}i.hide();f.val("-");var e=b.find('.powermail_fieldwrap_type_check [name="'+d+'[]"]');if(e.length>0){var h=e.last();h.click(function(){if(jQuery(this).prop("checked")){i.show();f.val("")}else{i.hide();f.val("-")}})}})};jQuery(".tx-powermail").each(function(){var b=jQuery(this);a(b);b.find(".powermail_fieldwrap_type_returnarticles").each(function(){var h=jQuery(this).find(".articles");var f=jQuery(this).find("[data-template]");var c=f.html();f.remove();var i=jQuery(this).find("[data-addarticle]");var d=function(){var j=1;h.find(".article").each(function(){jQuery(this).find("[data-articlenumber]").text(j);j++})};var g=function(j){j.find("[data-removearticle]").click(function(k){k.preventDefault();j.remove();d()})};i.click(function(){var j=1;h.find(".article").each(function(){var l=parseInt(jQuery(this).attr("data-article-id"));if(l>j){j=l}});var k=jQuery(c.replace(/ARTICLE_ID/g,++j));k.find(".styled_radiobutton, .styled_checkbox, .select2-container").remove();k.find('textarea, input[type="text"], input[type="email"], input[type="number"], input[type="password"], input[type="url"], input[type="search"], input[type="tel"], input[type="date"], input[type="number"]').floatingLabels();k.find("select").show().select2({minimumResultsForSearch:5,width:"resolve",dropdownAutoWidth:true}).addClass("has_select2");a(k);h.append(k);g(k);d()});var e=h.find(".article");if(e.length==0){i.trigger("click")}else{e.each(function(){g(jQuery(this))})}d()})})}());jQuery.fn.languageSelector=function(){return this.each(function(){var e=jQuery(this),b=e.find("form"),g=b.data("ajax-action"),d=b.find("#language-select-continents"),f=b.find("#language-select-countries"),a=b.find("#language-select-languages");
var c=function(h){h.find("select").each(function(){jQuery(this).on("change",function(){var l=jQuery(this),k=d.val(),j=f.val(),i=a.val();jQuery.get(g,{"tx_avMATE ELECTRICAL_language_selector[continent]":k,"tx_avMATE ELECTRICAL_language_selector[country]":j,"tx_avMATE ELECTRICAL_language_selector[domain]":i},function(m){d.html(jQuery(m).find(".js-continents").html());f.html(jQuery(m).find(".js-countries").html());a.html(jQuery(m).find(".js-language-urls").html());h.find("select").initialSelect();if(l.attr("id")==="language-select-continents"){f.removeAttr("disabled");a.prop("disabled",true);f.select2("open")}if(l.attr("id")==="language-select-countries"){l.removeAttr("disabled");a.removeAttr("disabled");a.select2("open")}})})})};b.on("submit",function(h){h.preventDefault();location.href=b.find(".js-language-urls").find("option:selected").data("url")});c(b)})};jQuery.fn.slotmachineselect=function(){return this.each(function(){var d=jQuery(this),e=d.parent(),b=d.find("option"),a=d.prop("selectedIndex"),c="",f=false;if(b.length==0){return}var g=function(){c+='<div class="slotmachine__container"><div class="slotmachine">';b.each(function(){c+='<div class="slotmachine__item">'+jQuery(this).text()+"</div>"});c+="</div></div>";e.addClass("slotmachine__wrapper");e.prepend(c);var j=e.find(".slotmachine__container");var h=e.find(".select2-container").first();d.on("change",function(){j.css({width:h.outerWidth()})});setTimeout(function(){j.css({width:h.outerWidth()});e.css({"opacity":"1"})},200);d.change(function(){a=d.prop("selectedIndex")});var i=e.find(".slotmachine").slotMachine({active:0,spins:5,delay:600,auto:false,stopHidden:true,direction:"up",randomize:function(){return a}});var k=function(l){e.addClass("slotmachine__wrapper--spinning");i.shuffle(l,function(){e.removeClass("slotmachine__wrapper--spinning")});f=true};jQuery(window).on("load scroll",function(){if(d.isInViewport()&&!f){k(2)}})};g()})};function _toConsumableArray(c){if(Array.isArray(c)){for(var b=0,a=Array(c.length);b<c.length;b++){a[b]=c[b]}return a}return Array.from(c)}var _slice=Array.prototype.slice,_slicedToArray=function(){function a(h,k){var g=[],d=!0,b=!1,m=void 0;try{for(var j,c=h[Symbol.iterator]();!(d=(j=c.next()).done)&&(g.push(j.value),!k||g.length!==k);d=!0){}}catch(f){b=!0,m=f}finally{try{!d&&c["return"]&&c["return"]()}finally{if(b){throw m}}}return g}return function(c,b){if(Array.isArray(c)){return c}if(Symbol.iterator in Object(c)){return a(c,b)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(c){for(var b=1;b<arguments.length;b++){var a=arguments[b];for(var d in a){Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d])}}return c};!function(b,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],a):b.parsley=a(b.jQuery)}(this,function(at){function ae(b,a){return b.parsleyAdaptedCallback||(b.parsleyAdaptedCallback=function(){var c=Array.prototype.slice.call(arguments,0);c.unshift(this),b.apply(a||z,c)}),b.parsleyAdaptedCallback}function ao(a){return 0===a.lastIndexOf(U,0)?a.substr(U.length):a}function ak(){var b=this,a=window||global;_extends(this,{isNativeEvent:function(c){return c.originalEvent&&c.originalEvent.isTrusted!==!1},fakeInputEvent:function(c){b.isNativeEvent(c)&&at(c.target).trigger("input")},misbehaves:function(c){b.isNativeEvent(c)&&(b.behavesOk(c),at(document).on("change.inputevent",c.data.selector,b.fakeInputEvent),b.fakeInputEvent(c))},behavesOk:function(c){b.isNativeEvent(c)&&at(document).off("input.inputevent",c.data.selector,b.behavesOk).off("change.inputevent",c.data.selector,b.misbehaves)},install:function(){if(!a.inputEventPatched){a.inputEventPatched="0.0.3";for(var e=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],d=0;d<e.length;d++){var c=e[d];at(document).on("input.inputevent",c,{selector:c},b.behavesOk).on("change.inputevent",c,{selector:c},b.misbehaves)}}},uninstall:function(){delete a.inputEventPatched,at(document).off(".inputevent")}})}var ag=1,af={},ax={attr:function(h,d,c){var k,g,f,b=new RegExp("^"+d,"i");if("undefined"==typeof c){c={}}else{for(k in c){c.hasOwnProperty(k)&&delete c[k]}}if(!h){return c}for(f=h.attributes,k=f.length;k--;){g=f[k],g&&g.specified&&b.test(g.name)&&(c[this.camelize(g.name.slice(d.length))]=this.deserializeValue(g.value))}return c},checkAttr:function(c,b,a){return c.hasAttribute(b+a)},setAttr:function(c,b,a,d){c.setAttribute(this.dasherize(b+a),String(d))},generateID:function(){return""+ag++},deserializeValue:function(b){var a;try{return b?"true"==b||"false"!=b&&("null"==b?null:isNaN(a=Number(b))?/^[\[\{]/.test(b)?at.parseJSON(b):b:a):b}catch(c){return b}},camelize:function(a){return a.replace(/-+(.)?/g,function(c,b){return b?b.toUpperCase():""})},dasherize:function(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()
},warn:function(){var a;window.console&&"function"==typeof window.console.warn&&(a=window.console).warn.apply(a,arguments)},warnOnce:function(a){af[a]||(af[a]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){af={}},trimString:function(a){return a.replace(/^\s+|\s+$/g,"")},parse:{date:function B(k){var f=k.match(/^(\d{4,})-(\d\d)-(\d\d)$/);if(!f){return null}var d=f.map(function(a){return parseInt(a,10)}),l=_slicedToArray(d,4),h=(l[0],l[1]),g=l[2],b=l[3],c=new Date(h,g-1,b);return c.getFullYear()!==h||c.getMonth()+1!==g||c.getDate()!==b?null:c},string:function(a){return a},integer:function(a){return isNaN(a)?null:parseInt(a,10)},number:function(a){if(isNaN(a)){throw null}return parseFloat(a)},"boolean":function(a){return !/^\s*false\s*$/i.test(a)},object:function(a){return ax.deserializeValue(a)},regexp:function(b){var a="";return/^\/.*\/(?:[gimy]*)$/.test(b)?(a=b.replace(/.*\/([gimy]*)$/,"$1"),b=b.replace(new RegExp("^/(.*?)/"+a+"$"),"$1")):b="^"+b+"$",new RegExp(b,a)}},parseRequirement:function(c,b){var a=this.parse[c||"string"];if(!a){throw'Unknown requirement specification: "'+c+'"'}var d=a(b);if(null===d){throw"Requirement is not a "+c+': "'+b+'"'}return d},namespaceEvents:function(b,a){return b=this.trimString(b||"").split(/\s+/),b[0]?at.map(b,function(c){return c+"."+a}).join(" "):""},difference:function(b,a){var c=[];return at.each(b,function(f,d){a.indexOf(d)==-1&&c.push(d)}),c},all:function(a){return at.when.apply(at,_toConsumableArray(a).concat([42,42]))},objectCreate:Object.create||function(){var a=function(){};return function(c){if(arguments.length>1){throw Error("Second argument not supported")}if("object"!=typeof c){throw TypeError("Argument must be an object")}a.prototype=c;var b=new a;return a.prototype=null,b}}(),_SubmitSelector:'input[type="submit"], button:submit'},aj={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(a){},errorsContainer:function(a){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},am=function(){this.__id__=ax.generateID()};am.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function(){var b=this,a=function(){var c=at.Deferred();return !0!==b.validationResult&&c.reject(),c.resolve().promise()};return[a,a]},actualizeOptions:function(){return ax.attr(this.element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(b){this.domOptions=ax.objectCreate(this.parent.options),this.options=ax.objectCreate(this.domOptions);for(var a in b){b.hasOwnProperty(a)&&(this.options[a]=b[a])}this.actualizeOptions()},_listeners:null,on:function(c,b){this._listeners=this._listeners||{};var a=this._listeners[c]=this._listeners[c]||[];return a.push(b),this},subscribe:function(b,a){at.listenTo(this,b.toLowerCase(),a)},off:function(c,b){var a=this._listeners&&this._listeners[c];if(a){if(b){for(var d=a.length;d--;){a[d]===b&&a.splice(d,1)}}else{delete this._listeners[c]}}return this},unsubscribe:function(b,a){at.unsubscribeTo(this,b.toLowerCase())},trigger:function(f,b,a){b=b||this;var g,d=this._listeners&&this._listeners[f];if(d){for(var c=d.length;c--;){if(g=d[c].call(b,b,a),g===!1){return g}}}return !this.parent||this.parent.trigger(f,b,a)},asyncIsValid:function(b,a){return ax.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:b,force:a})},_findRelated:function(){return this.options.multiple?at(this.parent.element.querySelectorAll("["+this.options.namespace+'multiple="'+this.options.multiple+'"]')):this.$element}};var ad=function(c,b){var a=c.match(/^\s*\[(.*)\]\s*$/);if(!a){throw'Requirement is not an array: "'+c+'"'}var d=a[1].split(",").map(ax.trimString);if(d.length!==b){throw"Requirement has "+d.length+" values when "+b+" are needed"}return d},au=function(f,b,a){var h=null,d={};for(var c in f){if(c){var g=a(c);"string"==typeof g&&(g=ax.parseRequirement(f[c],g)),d[c]=g}else{h=ax.parseRequirement(f[c],b)}}return[h,d]},ap=function(a){at.extend(!0,this,a)};ap.prototype={validate:function(c,b){if(this.fn){return arguments.length>3&&(b=[].slice.call(arguments,1,-1)),this.fn(c,b)}if(Array.isArray(c)){if(!this.validateMultiple){throw"Validator `"+this.name+"` does not handle multiple values"}return this.validateMultiple.apply(this,arguments)}var a=arguments[arguments.length-1];if(this.validateDate&&a._isDateInput()){return arguments[0]=ax.parse.date(arguments[0]),null!==arguments[0]&&this.validateDate.apply(this,arguments)}if(this.validateNumber){return !isNaN(c)&&(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments))}if(this.validateString){return this.validateString.apply(this,arguments)
}throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(b,a){if("string"!=typeof b){return Array.isArray(b)?b:[b]}var e=this.requirementType;if(Array.isArray(e)){for(var d=ad(b,e.length),c=0;c<d.length;c++){d[c]=ax.parseRequirement(e[c],d[c])}return d}return at.isPlainObject(e)?au(e,b,a):[ax.parseRequirement(e,b)]},requirementType:"string",priority:2};var ai=function(b,a){this.__class__="ValidatorRegistry",this.locale="en",this.init(b||{},a||{})},av={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,date:{test:function(a){return null!==ax.parse.date(a)}},url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$","i")};av.range=av.number;var ar=function(b){var a=(""+b).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return a?Math.max(0,(a[1]?a[1].length:0)-(a[2]?+a[2]:0)):0},al=function(b,a){return a.map(ax.parse[b])},aq=function(b,a){return function(c){for(var f=arguments.length,e=Array(f>1?f-1:0),d=1;d<f;d++){e[d-1]=arguments[d]}return e.pop(),a.apply(void 0,[c].concat(_toConsumableArray(al(b,e))))}},ac=function(a){return{validateDate:aq("date",a),validateNumber:aq("number",a),requirementType:a.length<=2?"string":["string","string"],priority:30}};ai.prototype={init:function(c,b){this.catalog=b,this.validators=_extends({},this.validators);for(var a in c){this.addValidator(a,c[a].fn,c[a].priority)}window.Parsley.trigger("parsley:validator:init")},setLocale:function(a){if("undefined"==typeof this.catalog[a]){throw new Error(a+" is not available in the catalog")}return this.locale=a,this},addCatalog:function(c,b,a){return"object"==typeof b&&(this.catalog[c]=b),!0===a?this.setLocale(c):this},addMessage:function(c,b,a){return"undefined"==typeof this.catalog[c]&&(this.catalog[c]={}),this.catalog[c][b]=a,this},addMessages:function(c,b){for(var a in b){this.addMessage(c,a,b[a])}return this},addValidator:function(c,b,a){if(this.validators[c]){ax.warn('Validator "'+c+'" is already defined.')}else{if(aj.hasOwnProperty(c)){return void ax.warn('"'+c+'" is a restricted keyword and is not a valid validator name.')}}return this._setValidator.apply(this,arguments)},updateValidator:function(c,b,a){return this.validators[c]?this._setValidator.apply(this,arguments):(ax.warn('Validator "'+c+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(a){return this.validators[a]||ax.warn('Validator "'+a+'" is not defined.'),delete this.validators[a],this},_setValidator:function(c,b,a){"object"!=typeof b&&(b={fn:b,priority:a}),b.validate||(b=new ap(b)),this.validators[c]=b;for(var d in b.messages||{}){this.addMessage(d,c,b.messages[d])}return this},getErrorMessage:function(c){var b;if("type"===c.name){var a=this.catalog[this.locale][c.name]||{};b=a[c.requirements]}else{b=this.formatMessage(this.catalog[this.locale][c.name],c.requirements)}return b||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(c,b){if("object"==typeof b){for(var a in b){c=this.formatMessage(c,b[a])}return c}return"string"==typeof c?c.replace(/%s/i,b):""},validators:{notblank:{validateString:function(a){return/\S/.test(a)},priority:2},required:{validateMultiple:function(a){return a.length>0},validateString:function(a){return/\S/.test(a)},priority:512},type:{validateString:function(k,v){var h=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],f=h.step,b=void 0===f?"any":f,w=h.base,p=void 0===w?0:w,c=av[v];if(!c){throw new Error("validator type `"+v+"` is not supported")}if(!c.test(k)){return !1}if("number"===v&&!/^any$/i.test(b||"")){var g=Number(k),q=Math.max(ar(b),ar(p));if(ar(g)>q){return !1}var m=function(a){return Math.round(a*Math.pow(10,q))};if((m(g)-m(p))%m(b)!=0){return !1}}return !0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function(b,a){return a.test(b)
},requirementType:"regexp",priority:64},minlength:{validateString:function(b,a){return b.length>=a},requirementType:"integer",priority:30},maxlength:{validateString:function(b,a){return b.length<=a},requirementType:"integer",priority:30},length:{validateString:function(c,b,a){return c.length>=b&&c.length<=a},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(b,a){return b.length>=a},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(b,a){return b.length<=a},requirementType:"integer",priority:30},check:{validateMultiple:function(c,b,a){return c.length>=b&&c.length<=a},requirementType:["integer","integer"],priority:30},min:ac(function(b,a){return b>=a}),max:ac(function(b,a){return b<=a}),range:ac(function(c,b,a){return c>=b&&c<=a}),equalto:{validateString:function(b,a){var c=at(a);return c.length?b===c.val():b===a},priority:256}}};var Z={},ay=function an(h,d,c){for(var l=[],g=[],f=0;f<h.length;f++){for(var b=!1,k=0;k<d.length;k++){if(h[f].assert.name===d[k].assert.name){b=!0;break}}b?g.push(h[f]):l.push(h[f])}return{kept:g,added:l,removed:c?[]:an(d,h,!0).added}};Z.Form={_actualizeTriggers:function(){var a=this;this.$element.on("submit.Parsley",function(b){a.onSubmitValidate(b)}),this.$element.on("click.Parsley",ax._SubmitSelector,function(b){a.onSubmitButton(b)}),!1!==this.options.uiEnabled&&this.element.setAttribute("novalidate","")},focus:function(){if(this._focusedField=null,!0===this.validationResult||"none"===this.options.focus){return null}for(var b=0;b<this.fields.length;b++){var a=this.fields[b];if(!0!==a.validationResult&&a.validationResult.length>0&&"undefined"==typeof a.options.noFocus&&(this._focusedField=a.$element,"first"===this.options.focus)){break}}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function(){this.$element.off(".Parsley")}},Z.Field={_reflowUI:function(){if(this._buildUI(),this._ui){var a=ay(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(a),this._actualizeTriggers(),!a.kept.length&&!a.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function(){if(!0===this.validationResult){return[]}for(var b=[],a=0;a<this.validationResult.length;a++){b.push(this.validationResult[a].errorMessage||this._getErrorMessage(this.validationResult[a].assert))}return b},addError:function(f){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=b.message,g=b.assert,d=b.updateClass,c=void 0===d||d;this._buildUI(),this._addError(f,{message:a,assert:g}),c&&this._errorClass()},updateError:function(f){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=b.message,g=b.assert,d=b.updateClass,c=void 0===d||d;this._buildUI(),this._updateError(f,{message:a,assert:g}),c&&this._errorClass()},removeError:function(c){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=b.updateClass,d=void 0===a||a;this._buildUI(),this._removeError(c),d&&this._manageStatusClass()},_manageStatusClass:function(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():this.validationResult.length>0?this._errorClass():this._resetClass()},_manageErrorsMessages:function(b){if("undefined"==typeof this.options.errorsMessagesDisabled){if("undefined"!=typeof this.options.errorMessage){return b.added.length||b.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(at(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove()}for(var a=0;a<b.removed.length;a++){this._removeError(b.removed[a].assert.name)}for(a=0;a<b.added.length;a++){this._addError(b.added[a].assert.name,{message:b.added[a].errorMessage,assert:b.added[a].assert})}for(a=0;a<b.kept.length;a++){this._updateError(b.kept[a].assert.name,{message:b.kept[a].errorMessage,assert:b.kept[a].assert})}}},_addError:function(b,a){var d=a.message,c=a.assert;this._insertErrorWrapper(),this._ui.$errorsWrapper.addClass("filled").append(at(this.options.errorTemplate).addClass("parsley-"+b).html(d||this._getErrorMessage(c)))},_updateError:function(c,b){var a=b.message,d=b.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+c).html(a||this._getErrorMessage(d))},_removeError:function(a){this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+a).remove()},_getErrorMessage:function(b){var a=b.name+"Message";return"undefined"!=typeof this.options[a]?window.Parsley.formatMessage(this.options[a],b.requirements):window.Parsley.getErrorMessage(b)},_buildUI:function(){if(!this._ui&&!1!==this.options.uiEnabled){var a={};this.element.setAttribute(this.options.namespace+"id",this.__id__),a.$errorClassHandler=this._manageClassHandler(),a.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),a.$errorsWrapper=at(this.options.errorsWrapper).attr("id",a.errorsWrapperId),a.lastValidationResult=[],a.validationInformationVisible=!1,this._ui=a
}},_manageClassHandler:function(){if("string"==typeof this.options.classHandler){return 0===at(this.options.classHandler).length&&ParsleyUtils.warn("No elements found that match the selector `"+this.options.classHandler+"` set in options.classHandler or data-parsley-class-handler"),at(this.options.classHandler)}if("function"==typeof this.options.classHandler){var a=this.options.classHandler.call(this,this)}return"undefined"!=typeof a&&a.length?a:this._inputHolder()},_inputHolder:function(){return this.options.multiple&&"SELECT"!==this.element.nodeName?this.$element.parent():this.$element},_insertErrorWrapper:function(){var a;if(0!==this._ui.$errorsWrapper.parent().length){return this._ui.$errorsWrapper.parent()}if("string"==typeof this.options.errorsContainer){if(at(this.options.errorsContainer).length){return at(this.options.errorsContainer).append(this._ui.$errorsWrapper)}ax.warn("The errors container `"+this.options.errorsContainer+"` does not exist in DOM")}else{"function"==typeof this.options.errorsContainer&&(a=this.options.errorsContainer.call(this,this))}return"undefined"!=typeof a&&a.length?a.append(this._ui.$errorsWrapper):this._inputHolder().after(this._ui.$errorsWrapper)},_actualizeTriggers:function(){var c,b=this,a=this._findRelated();a.off(".Parsley"),this._failedOnce?a.on(ax.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){b._validateIfNeeded()}):(c=ax.namespaceEvents(this.options.trigger,"Parsley"))&&a.on(c,function(d){b._validateIfNeeded(d)})},_validateIfNeeded:function(b){var a=this;b&&/key|input/.test(b.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||(this.options.debounce?(window.clearTimeout(this._debounced),this._debounced=window.setTimeout(function(){return a.validate()},this.options.debounce)):this.validate())},_resetUI:function(){this._failedOnce=!1,this._actualizeTriggers(),"undefined"!=typeof this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function(){this._resetUI(),"undefined"!=typeof this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}};var ab=function(b,a,c){this.__class__="Form",this.element=b,this.$element=at(b),this.domOptions=a,this.options=c,this.parent=window.Parsley,this.fields=[],this.validationResult=null},aw={pending:null,resolved:!0,rejected:!1};ab.prototype={onSubmitValidate:function(c){var b=this;if(!0!==c.parsley){var a=this._submitSource||this.$element.find(ax._SubmitSelector)[0];if(this._submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),!a||null===a.getAttribute("formnovalidate")){window.Parsley._remoteCache={};var d=this.whenValidate({event:c});"resolved"===d.state()&&!1!==this._trigger("submit")||(c.stopImmediatePropagation(),c.preventDefault(),"pending"===d.state()&&d.done(function(){b._submit(a)}))}}},onSubmitButton:function(a){this._submitSource=a.currentTarget},_submit:function(b){if(!1!==this._trigger("submit")){if(b){var a=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===a.length&&(a=at('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),a.attr({name:b.getAttribute("name"),value:b.getAttribute("value")})}this.$element.trigger(_extends(at.Event("submit"),{parsley:!0}))}},validate:function(b){if(arguments.length>=1&&!at.isPlainObject(b)){ax.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var a=_slice.call(arguments),e=a[0],d=a[1],c=a[2];b={group:e,force:d,event:c}}return aw[this.whenValidate(b).state()]},whenValidate:function(){var c,b=this,g=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=g.group,d=g.force,f=g.event;this.submitEvent=f,f&&(this.submitEvent=_extends({},f,{preventDefault:function(){ax.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"),b.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var a=this._withoutReactualizingFormOptions(function(){return at.map(b.fields,function(h){return h.whenValidate({force:d,group:e})})});return(c=ax.all(a).done(function(){b._trigger("success")}).fail(function(){b.validationResult=!1,b.focus(),b._trigger("error")}).always(function(){b._trigger("validated")})).pipe.apply(c,_toConsumableArray(this._pipeAccordingToValidationResult()))},isValid:function(b){if(arguments.length>=1&&!at.isPlainObject(b)){ax.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");
var a=_slice.call(arguments),d=a[0],c=a[1];b={group:d,force:c}}return aw[this.whenValid(b).state()]},whenValid:function(){var b=this,a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=a.group,d=a.force;this._refreshFields();var c=this._withoutReactualizingFormOptions(function(){return at.map(b.fields,function(f){return f.whenValid({group:e,force:d})})});return ax.all(c)},reset:function(){for(var a=0;a<this.fields.length;a++){this.fields[a].reset()}this._trigger("reset")},destroy:function(){this._destroyUI();for(var a=0;a<this.fields.length;a++){this.fields[a].destroy()}this.$element.removeData("Parsley"),this._trigger("destroy")},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var b=this,a=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){b.$element.find(b.options.inputs).not(b.options.excluded).each(function(f,c){var g=new window.Parsley.Factory(c,{},b);if(("Field"===g.__class__||"FieldMultiple"===g.__class__)&&!0!==g.options.excluded){var d=g.__class__+"-"+g.__id__;"undefined"==typeof b.fieldsMappedById[d]&&(b.fieldsMappedById[d]=g,b.fields.push(g))}}),at.each(ax.difference(a,b.fields),function(d,c){c.reset()})}),this},_withoutReactualizingFormOptions:function(c){var b=this.actualizeOptions;this.actualizeOptions=function(){return this};var a=c();return this.actualizeOptions=b,a},_trigger:function(a){return this.trigger("form:"+a)}};var N=function(h,d,c,k,g){var f=window.Parsley._validatorRegistry.validators[d],b=new ap(f);k=k||h.options[d+"Priority"]||b.priority,g=!0===g,_extends(this,{validator:b,name:d,requirements:c,priority:k,isDomConstraint:g}),this._parseRequirements(h.options)},W=function(b){var a=b[0].toUpperCase();return a+b.slice(1)};N.prototype={validate:function(c,b){var a;return(a=this.validator).validate.apply(a,[c].concat(_toConsumableArray(this.requirementList),[b]))},_parseRequirements:function(b){var a=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(c){return b[a.name+W(c)]})}};var Q=function(b,a,d,c){this.__class__="Field",this.element=b,this.$element=at(b),"undefined"!=typeof c&&(this.parent=c),this.options=d,this.domOptions=a,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()},X={pending:null,resolved:!0,rejected:!1};Q.prototype={validate:function(b){arguments.length>=1&&!at.isPlainObject(b)&&(ax.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),b={options:b});var a=this.whenValidate(b);if(!a){return !0}switch(a.state()){case"pending":return null;case"resolved":return !0;case"rejected":return this.validationResult}},whenValidate:function(){var d,b=this,a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],f=a.force,c=a.group;if(this.refreshConstraints(),!c||this._isInGroup(c)){return this.value=this.getValue(),this._trigger("validate"),(d=this.whenValid({force:f,value:this.value,_refreshed:!0}).always(function(){b._reflowUI()}).done(function(){b._trigger("success")}).fail(function(){b._trigger("error")}).always(function(){b._trigger("validated")})).pipe.apply(d,_toConsumableArray(this._pipeAccordingToValidationResult()))}},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(a){return"undefined"==typeof a&&(a=this.getValue()),!(!a.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty)},_isInGroup:function(a){return Array.isArray(this.options.group)?-1!==at.inArray(a,this.options.group):this.options.group===a},isValid:function(b){if(arguments.length>=1&&!at.isPlainObject(b)){ax.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var a=_slice.call(arguments),e=a[0],d=a[1];b={force:e,value:d}}var c=this.whenValid(b);return !c||X[c.state()]},whenValid:function(){var k=this,f=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],c=f.force,a=void 0!==c&&c,m=f.value,b=f.group,e=f._refreshed;if(e||this.refreshConstraints(),!b||this._isInGroup(b)){if(this.validationResult=!0,!this.hasConstraints()){return at.when()}if("undefined"!=typeof m&&null!==m||(m=this.getValue()),!this.needsValidation(m)&&!0!==a){return at.when()}var h=this._getGroupedConstraints(),g=[];return at.each(h,function(d,o){var l=ax.all(at.map(o,function(i){return k._validateConstraint(m,i)}));if(g.push(l),"rejected"===l.state()){return !1}}),ax.all(g)}},_validateConstraint:function(b,a){var d=this,c=a.validate(b,this);return !1===c&&(c=at.Deferred().reject()),ax.all([c]).fail(function(f){d.validationResult instanceof Array||(d.validationResult=[]),d.validationResult.push({assert:a,errorMessage:"string"==typeof f&&f})})},getValue:function(){var a;return a="function"==typeof this.options.value?this.options.value(this):"undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof a||null===a?"":this._handleWhitespace(a)},reset:function(){return this._resetUI(),this._trigger("reset")
},destroy:function(){this._destroyUI(),this.$element.removeData("Parsley"),this.$element.removeData("FieldMultiple"),this._trigger("destroy")},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(d,b,a,f){if(window.Parsley._validatorRegistry.validators[d]){var c=new N(this,d,b,a,f);"undefined"!==this.constraintsByName[c.name]&&this.removeConstraint(c.name),this.constraints.push(c),this.constraintsByName[c.name]=c}return this},removeConstraint:function(b){for(var a=0;a<this.constraints.length;a++){if(b===this.constraints[a].name){this.constraints.splice(a,1);break}}return delete this.constraintsByName[b],this},updateConstraint:function(c,b,a){return this.removeConstraint(c).addConstraint(c,b,a)},_bindConstraints:function(){for(var c=[],b={},a=0;a<this.constraints.length;a++){!1===this.constraints[a].isDomConstraint&&(c.push(this.constraints[a]),b[this.constraints[a].name]=this.constraints[a])}this.constraints=c,this.constraintsByName=b;for(var d in this.options){this.addConstraint(d,this.options[d],void 0,!0)}return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){null!==this.element.getAttribute("required")&&this.addConstraint("required",!0,void 0,!0),null!==this.element.getAttribute("pattern")&&this.addConstraint("pattern",this.element.getAttribute("pattern"),void 0,!0);var c=this.element.getAttribute("min"),b=this.element.getAttribute("max");null!==c&&null!==b?this.addConstraint("range",[c,b],void 0,!0):null!==c?this.addConstraint("min",c,void 0,!0):null!==b&&this.addConstraint("max",b,void 0,!0),null!==this.element.getAttribute("minlength")&&null!==this.element.getAttribute("maxlength")?this.addConstraint("length",[this.element.getAttribute("minlength"),this.element.getAttribute("maxlength")],void 0,!0):null!==this.element.getAttribute("minlength")?this.addConstraint("minlength",this.element.getAttribute("minlength"),void 0,!0):null!==this.element.getAttribute("maxlength")&&this.addConstraint("maxlength",this.element.getAttribute("maxlength"),void 0,!0);var a=this.element.type;return"number"===a?this.addConstraint("type",["number",{step:this.element.getAttribute("step")||"1",base:c||this.element.getAttribute("value")}],void 0,!0):/^(email|url|range|date)$/i.test(a)?this.addConstraint("type",a,void 0,!0):this},_isRequired:function(){return"undefined"!=typeof this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function(a){return this.trigger("field:"+a)},_handleWhitespace:function(a){return !0===this.options.trimValue&&ax.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(a=a.replace(/\s{2,}/g," ")),"trim"!==this.options.whitespace&&"squish"!==this.options.whitespace&&!0!==this.options.trimValue||(a=ax.trimString(a)),a},_isDateInput:function(){var a=this.constraintsByName.type;return a&&"date"===a.requirements},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled){return[this.constraints]}for(var c=[],b={},a=0;a<this.constraints.length;a++){var d=this.constraints[a].priority;b[d]||c.push(b[d]=[]),b[d].push(this.constraints[a])}return c.sort(function(g,f){return f[0].priority-g[0].priority}),c}};var aa=Q,Y=function(){this.__class__="FieldMultiple"};Y.prototype={addElement:function(a){return this.$elements.push(a),this},refreshConstraints:function(){var b;if(this.constraints=[],"SELECT"===this.element.nodeName){return this.actualizeOptions()._bindConstraints(),this}for(var a=0;a<this.$elements.length;a++){if(at("html").has(this.$elements[a]).length){b=this.$elements[a].data("FieldMultiple").refreshConstraints().constraints;for(var c=0;c<b.length;c++){this.addConstraint(b[c].name,b[c].requirements,b[c].priority,b[c].isDomConstraint)}}else{this.$elements.splice(a,1)}}return this},getValue:function(){if("function"==typeof this.options.value){return this.options.value(this)}if("undefined"!=typeof this.options.value){return this.options.value}if("INPUT"===this.element.nodeName){if("radio"===this.element.type){return this._findRelated().filter(":checked").val()||""}if("checkbox"===this.element.type){var a=[];return this._findRelated().filter(":checked").each(function(){a.push(at(this).val())}),a}}return"SELECT"===this.element.nodeName&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}};var H=function(b,a,d){this.element=b,this.$element=at(b);var c=this.$element.data("Parsley");if(c){return"undefined"!=typeof d&&c.parent===window.Parsley&&(c.parent=d,c._resetOptions(c.options)),"object"==typeof a&&_extends(c.options,a),c}if(!this.$element.length){throw new Error("You must bind Parsley on an existing element.")}if("undefined"!=typeof d&&"Form"!==d.__class__){throw new Error("Parent instance must be a Form instance")}return this.parent=d||window.Parsley,this.init(a)};H.prototype={init:function(a){return this.__class__="Parsley",this.__version__="2.7.2",this.__id__=ax.generateID(),this._resetOptions(a),"FORM"===this.element.nodeName||ax.checkAttr(this.element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")
},isMultiple:function(){return"radio"===this.element.type||"checkbox"===this.element.type||"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple")},handleMultiple:function(){var b,a,e=this;if(this.options.multiple=this.options.multiple||(b=this.element.getAttribute("name"))||this.element.getAttribute("id"),"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple")){return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple")}if(!this.options.multiple){return ax.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this}this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),b&&at('input[name="'+b+'"]').each(function(g,f){"radio"!==f.type&&"checkbox"!==f.type||f.setAttribute(e.options.namespace+"multiple",e.options.multiple)});for(var d=this._findRelated(),c=0;c<d.length;c++){if(a=at(d.get(c)).data("Parsley"),"undefined"!=typeof a){this.$element.data("FieldMultiple")||a.addElement(this.$element);break}}return this.bind("parsleyField",!0),a||this.bind("parsleyFieldMultiple")},bind:function(b,a){var c;switch(b){case"parsleyForm":c=at.extend(new ab(this.element,this.domOptions,this.options),new am,window.ParsleyExtend)._bindFields();break;case"parsleyField":c=at.extend(new aa(this.element,this.domOptions,this.options,this.parent),new am,window.ParsleyExtend);break;case"parsleyFieldMultiple":c=at.extend(new aa(this.element,this.domOptions,this.options,this.parent),new Y,new am,window.ParsleyExtend)._init();break;default:throw new Error(b+"is not a supported Parsley type")}return this.options.multiple&&ax.setAttr(this.element,this.options.namespace,"multiple",this.options.multiple),"undefined"!=typeof a?(this.$element.data("FieldMultiple",c),c):(this.$element.data("Parsley",c),c._actualizeTriggers(),c._trigger("init"),c)}};var j=at.fn.jquery.split(".");if(parseInt(j[0])<=1&&parseInt(j[1])<8){throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better."}j.forEach||ax.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var J=_extends(new am,{element:document,$element:at(document),actualizeOptions:null,_resetOptions:null,Factory:H,version:"2.7.2"});_extends(aa.prototype,Z.Field,am.prototype),_extends(ab.prototype,Z.Form,am.prototype),_extends(H.prototype,am.prototype),at.fn.parsley=at.fn.psly=function(b){if(this.length>1){var a=[];return this.each(function(){a.push(at(this).parsley(b))}),a}return at(this).length?new H(this[0],b):void ax.warn("You must bind Parsley on an existing element.")},"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),J.options=_extends(ax.objectCreate(aj),window.ParsleyConfig),window.ParsleyConfig=J.options,window.Parsley=window.psly=J,J.Utils=ax,window.ParsleyUtils={},at.each(ax,function(b,a){"function"==typeof a&&(window.ParsleyUtils[b]=function(){return ax.warnOnce("Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead."),ax[b].apply(ax,arguments)})});var K=window.Parsley._validatorRegistry=new ai(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},at.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator".split(" "),function(b,a){window.Parsley[a]=function(){return K[a].apply(K,arguments)},window.ParsleyValidator[a]=function(){var c;return ax.warnOnce("Accessing the method '"+a+"' through Validator is deprecated. Simply call 'window.Parsley."+a+"(...)'"),(c=window.Parsley)[a].apply(c,arguments)}}),window.Parsley.UI=Z,window.ParsleyUI={removeError:function(c,b,a){var d=!0!==a;return ax.warnOnce("Accessing UI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),c.removeError(b,{updateClass:d})},getErrorsMessages:function(a){return ax.warnOnce("Accessing UI is deprecated. Call 'getErrorsMessages' on the instance directly."),a.getErrorsMessages()}},at.each("addError updateError".split(" "),function(b,a){window.ParsleyUI[a]=function(g,c,k,f,d){var h=!0!==d;return ax.warnOnce("Accessing UI is deprecated. Call '"+a+"' on the instance directly. Please comment in issue 1073 as to your need to call this method."),g[a](c,{message:k,assert:f,updateClass:h})}}),!1!==window.ParsleyConfig.autoBind&&at(function(){at("[data-parsley-validate]").length&&at("[data-parsley-validate]").parsley()});var z=at({}),G=function(){ax.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")},U="parsley:";at.listen=function(b,c){var a;if(G(),"object"==typeof arguments[1]&&"function"==typeof arguments[2]&&(a=arguments[1],c=arguments[2]),"function"!=typeof c){throw new Error("Wrong parameters")}window.Parsley.on(ao(b),ae(c,a))},at.listenTo=function(b,c,a){if(G(),!(b instanceof aa||b instanceof ab)){throw new Error("Must give Parsley instance")
}if("string"!=typeof c||"function"!=typeof a){throw new Error("Wrong parameters")}b.on(ao(c),ae(a))},at.unsubscribe=function(b,a){if(G(),"string"!=typeof b||"function"!=typeof a){throw new Error("Wrong arguments")}window.Parsley.off(ao(b),a.parsleyAdaptedCallback)},at.unsubscribeTo=function(b,a){if(G(),!(b instanceof aa||b instanceof ab)){throw new Error("Must give Parsley instance")}b.off(ao(a))},at.unsubscribeAll=function(a){G(),window.Parsley.off(ao(a)),at("form,input,textarea,select").each(function(){var b=at(this).data("Parsley");b&&b.off(ao(a))})},at.emit=function(d,a){var f;G();var c=a instanceof aa||a instanceof ab,b=Array.prototype.slice.call(arguments,c?2:1);b.unshift(ao(d)),c||(a=window.Parsley),(f=a).trigger.apply(f,_toConsumableArray(b))};at.extend(!0,J,{asyncValidators:{"default":{fn:function(a){return a.status>=200&&a.status<300},url:!1},reverse:{fn:function(a){return a.status<200||a.status>=300},url:!1}},addAsyncValidator:function(c,b,a,d){return J.asyncValidators[c]={fn:b,url:a||!1,options:d||{}},this}}),J.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(v,g,e,b){var w,p,c={},f=e.validator||(!0===e.reverse?"reverse":"default");if("undefined"==typeof J.asyncValidators[f]){throw new Error("Calling an undefined async validator: `"+f+"`")}g=J.asyncValidators[f].url||g,g.indexOf("{value}")>-1?g=g.replace("{value}",encodeURIComponent(v)):c[b.element.getAttribute("name")||b.element.getAttribute("id")]=v;var q=at.extend(!0,e.options||{},J.asyncValidators[f].options);w=at.extend(!0,{},{url:g,data:c,type:"GET"},q),b.trigger("field:ajaxoptions",b,w),p=at.param(w),"undefined"==typeof J._remoteCache&&(J._remoteCache={});var m=J._remoteCache[p]=J._remoteCache[p]||at.ajax(w),k=function(){var a=J.asyncValidators[f].fn.call(b,m,g,e);return a||(a=at.Deferred().reject()),at.when(a)};return m.then(k,k)},priority:-1}),J.on("form:submit",function(){J._remoteCache={}}),am.prototype.addAsyncValidator=function(){return ax.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),J.addAsyncValidator.apply(J,arguments)},J.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),J.setLocale("en");var L=new ak;L.install();var ah=J;return ah});jQuery(document).ready(function(F){function J(c,b){B(c,b),c.find(b.container).first().show()}function z(b,d){if(d.tabs){var c=F("<div />",{"class":d.tabMenuClassName}).insertBefore(b.children(d.container).filter(":first"));b.children(d.container).each(function(e,f){var a=F("<button/>").html(F(this).children(d.header).html()).addClass(0==e?d.tabMenuItemActiveClassName:"").addClass("item"+e).addClass("btn btn-default").prop("type","button").on("click keypress",{container:b.children(d.container),fieldset:F(f)},function(){var m=F(this),l=m.parent().children().index(m);k(b,d,m,l)});d.tabIndex&&a.prop("tabindex",e),c.append(a)})}}function j(b,c){c.navigation&&b.children(c.container).each(function(d){var a=F("<div />").addClass("powermail_fieldwrap").addClass("powermail_tab_navigation").appendTo(F(this));d>0&&a.append(H(b,c)),d<b.children(c.container).length-1&&a.append(y(b,c))})}function D(b,c){F.fn.parsley&&"data-parsley-validate"===b.data("parsley-validate")&&b.parsley().subscribe("parsley:field:validated",function(){g(b,c),q(b,c)})}function w(b,c){c.openTabOnError&&F.listen("parsley:field:error",function(){setTimeout(function(){b.find("."+c.tabMenuClassName+" > ."+c.tabMenuItemErrorClassName+":first").click()},50)})}function k(b,e,d,c){$activeTab=x(b,e),$activeTab.removeClass(e.tabMenuItemActiveClassName),d.addClass(e.tabMenuItemActiveClassName),B(b,e),F(".powermail_fieldset",b).slice(c,c+1).show()}function B(c,b){c.children(b.container).hide()}function H(b,c){return F("<a />").prop("href","#").addClass("btn btn-warning").html("<").click(function(a){a.preventDefault(),h(b,c)})}function y(b,c){return F("<a />").prop("href","#").addClass("btn btn-primary pull-right").html(">").click(function(a){a.preventDefault(),G(b,c)
})}function G(c,b){var d=A(c,b);$activeTab=x(c,b),$activeTab.removeClass(b.tabMenuItemActiveClassName).next().addClass(b.tabMenuItemActiveClassName),E(c,b,d+1)}function h(c,b){var d=A(c,b);$activeTab=x(c,b),$activeTab.removeClass(b.tabMenuItemActiveClassName).prev().addClass(b.tabMenuItemActiveClassName),E(c,b,d-1)}function E(c,b,d){B(c,b),c.find(".powermail_fieldset").slice(d,d+1).show()}function A(d,b){var f=I(d,b),c=f.index(x(d,b));return parseInt(c)}function I(c,b){return c.find("."+b.tabMenuClassName).children()}function x(c,b){var d=I(c,b);return d.filter("."+b.tabMenuItemActiveClassName)}function g(c,b){var d=I(c,b);d.removeClass(b.tabMenuItemErrorClassName)}function q(b,c){b.parsley().isValid()||b.find(".parsley-error").each(function(){var d=b.find(".powermail_fieldset").index(F(this).closest(".powermail_fieldset")),a=I(b,c),e=a.slice(d,d+1);e.addClass(c.tabMenuItemErrorClassName)})}F.fn.powermailTabs=function(b){var a=jQuery(this);b=jQuery.extend({container:"fieldset",header:"legend",tabs:!0,navigation:!0,openTabOnError:!0,tabIndex:!0,tabMenuClassName:"btn-group",tabMenuItemActiveClassName:"btn-primary",tabMenuItemErrorClassName:"btn-danger"},b),J(a,b),z(a,b),j(a,b),D(a,b),w(a,b)}});function PowermailForm(T){this.initialize=function(){X(),E(),P(),H(),J(),K(),V(),M()};var X=function(){T.fn.powermailTabs&&T(".powermail_morestep").each(function(){T(this).powermailTabs()})},E=function(){T("form[data-powermail-ajax]").length&&I()},P=function(){if(T('*[data-powermail-location="prefill"]').length&&navigator.geolocation){T(this);navigator.geolocation.getCurrentPosition(function(b){var d=b.coords.latitude,c=b.coords.longitude,e=F()+"/index.php?eID=powermailEidGetLocation";jQuery.ajax({url:e,data:"lat="+d+"&lng="+c,cache:!1,success:function(f){f&&T('*[data-powermail-location="prefill"]').val(f)}})})}},H=function(){T.fn.datetimepicker&&T(".powermail_date").each(function(){var b=T(this);if("date"===b.prop("type")||"datetime-local"===b.prop("type")||"time"===b.prop("type")){if(!b.data("datepicker-force")){if(T(this).data("date-value")){var d=B(T(this).data("date-value"),T(this).data("datepicker-format"),b.prop("type"));null!==d&&T(this).val(d)}return}b.prop("type","text")}var c=!0,e=!0;"date"===b.data("datepicker-settings")?e=!1:"time"===b.data("datepicker-settings")&&(c=!1),b.datetimepicker({format:b.data("datepicker-format"),timepicker:e,datepicker:c,lang:"en",i18n:{en:{months:b.data("datepicker-months").split(","),dayOfWeek:b.data("datepicker-days").split(",")}}})})},J=function(){T(".powermail_all_type_password.powermail_all_value").html("********")},K=function(){T.fn.parsley&&T(".powermail_reset").on("click","",function(){T('form[data-parsley-validate="data-parsley-validate"]').parsley().reset()})},M=function(){window.Parsley&&(Y(),z())},I=function(){var b,c=!1;T(document).on("submit","form[data-powermail-ajax]",function(a){var d=T(this);d.data("powermail-ajax-uri")&&(b=d.data("powermail-ajax-uri"));var e=d.data("powermail-form");c||(T.ajax({type:"POST",url:d.prop("action"),data:new FormData(d.get(0)),contentType:!1,processData:!1,beforeSend:function(){G(d)},complete:function(){U(d),V()},success:function(f){var g=T('*[data-powermail-form="'+e+'"]:first',f);g.length?(T('*[data-powermail-form="'+e+'"]:first').closest(".tx-powermail").html(g),T.fn.powermailTabs&&T(".powermail_morestep").powermailTabs(),T.fn.parsley&&T('form[data-parsley-validate="data-parsley-validate"]').parsley(),L()):(b?O(b):d.submit(),c=!0)}}),a.preventDefault())})},G=function(b){U(b),T(".powermail_submit",b).length?T(".powermail_submit",b).parent().append(R()):b.closest(".tx-powermail").append(R())},U=function(a){a.closest(".tx-powermail").find(".powermail_progressbar").remove()},V=function(){T(".powermail_fieldwrap_file").find(".deleteAllFiles").each(function(){S(T(this).closest(".powermail_fieldwrap_file").find('input[type="file"]'))}),T(".deleteAllFiles").click(function(){C(T(this).closest(".powermail_fieldwrap_file").find('input[type="hidden"]')),T(this).closest("ul").fadeOut(function(){T(this).remove()})})},S=function(a){a.prop("disabled","disabled").addClass("hide").prop("type","hidden")},C=function(a){a.prop("disabled",!1).removeClass("hide").prop("type","file")},L=function(){T("img.powermail_captchaimage").each(function(){var b=A(T(this).prop("src"));T(this).prop("src",b+"?hash="+Q(5))})},A=function(c){var b=c.split("?");return b[0]},Q=function(f){for(var b="",d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<f;c++){b+=d.charAt(Math.floor(Math.random()*d.length))}return b},B=function(h,c,f){var d=Date.parseDate(h,c);if(null===d){return null}var g=new Date(d),j=g.getFullYear()+"-";j+=("0"+(g.getMonth()+1)).slice(-2)+"-",j+=("0"+g.getDate()).slice(-2);var k=("0"+g.getHours()).slice(-2)+":"+("0"+g.getMinutes()).slice(-2),b=j+"T"+k;return"date"===f?j:"datetime-local"===f?b:"time"===f?k:null},R=function(){return T("<div />").addClass("powermail_progressbar").html(T("<div />").addClass("powermail_progress").html(T("<div />").addClass("powermail_progess_inner")))
},q=function(g){for(var b=g.get(0),d=0,c=0;c<b.files.length;c++){var f=b.files[c];f.size>d&&(d=f.size)}return parseInt(d)},Y=function(){window.Parsley.addValidator("powermailfilesize",function(b,d){if(d.indexOf(",")!==-1){var c=d.split(","),e=parseInt(c[0]),f=T('*[name="tx_powermail_pi1[field]['+c[1]+'][]"]');if(f.length&&q(f)>e){return !1}}return !0},32).addMessage("en","powermailfilesize","Error")},z=function(){window.Parsley.addValidator("powermailfileextensions",function(b,d){var c=T('*[name="tx_powermail_pi1[field]['+d+'][]"]');return !c.length||W(N(b),c.prop("accept"))},32).addMessage("en","powermailfileextensions","Error")},W=function(c,b){return b.indexOf("."+c)!==-1},N=function(a){return a.split(".").pop().toLowerCase()},O=function(a){a.indexOf("http")!==-1?window.location=a:window.location.pathname=a},F=function(){var b;return b=T("base").length>0?jQuery("base").prop("href"):"https:"!=window.location.protocol?"http://"+window.location.hostname:"https://"+window.location.hostname}}jQuery(document).ready(function(c){var b=new window.PowermailForm(c);b.initialize()});